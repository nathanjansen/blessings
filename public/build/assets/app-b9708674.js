var Jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ut(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var xn={exports:{}};(function(e,t){(function(i,n){e.exports=n()})(typeof self<"u"?self:Jo,function(){return function(r){var i={};function n(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=i,n.d=function(s,o,l){n.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},n.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(o,"a",o),o},n.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},n.p="",n(n.s=9)}([function(r,i,n){var s=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)g.hasOwnProperty(_)&&(m[_]=g[_])};return function(m,g){y(m,g);function _(){this.constructor=m}m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=function(y){s(m,y);function m(g){var _=this;return g="[Parchment] "+g,_=y.call(this,g)||this,_.message=g,_.name=_.constructor.name,_}return m}(Error);i.ParchmentError=o;var l={},a={},f={},h={};i.DATA_KEY="__blot";var u;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(u=i.Scope||(i.Scope={}));function c(y,m){var g=p(y);if(g==null)throw new o("Unable to create "+y+" blot");var _=g,S=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:_.create(m);return new _(S,m)}i.create=c;function d(y,m){return m===void 0&&(m=!1),y==null?null:y[i.DATA_KEY]!=null?y[i.DATA_KEY].blot:m?d(y.parentNode,m):null}i.find=d;function p(y,m){m===void 0&&(m=u.ANY);var g;if(typeof y=="string")g=h[y]||l[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)g=h.text;else if(typeof y=="number")y&u.LEVEL&u.BLOCK?g=h.block:y&u.LEVEL&u.INLINE&&(g=h.inline);else if(y instanceof HTMLElement){var _=(y.getAttribute("class")||"").split(/\s+/);for(var S in _)if(g=a[_[S]],g)break;g=g||f[y.tagName]}return g==null?null:m&u.LEVEL&g.scope&&m&u.TYPE&g.scope?g:null}i.query=p;function v(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];if(y.length>1)return y.map(function(S){return v(S)});var g=y[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new o("Invalid definition");if(g.blotName==="abstract")throw new o("Cannot register abstract class");if(h[g.blotName||g.attrName]=g,typeof g.keyName=="string")l[g.keyName]=g;else if(g.className!=null&&(a[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(S){return S.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var _=Array.isArray(g.tagName)?g.tagName:[g.tagName];_.forEach(function(S){(f[S]==null||g.className==null)&&(f[S]=g)})}return g}i.register=v},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=n(0),o=function(){function l(a,f,h){h===void 0&&(h={}),this.attrName=a,this.keyName=f;var u=s.Scope.TYPE&s.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&s.Scope.LEVEL|u:this.scope=s.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return l.keys=function(a){return[].map.call(a.attributes,function(f){return f.name})},l.prototype.add=function(a,f){return this.canAdd(a,f)?(a.setAttribute(this.keyName,f),!0):!1},l.prototype.canAdd=function(a,f){var h=s.query(a,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},l.prototype.remove=function(a){a.removeAttribute(this.keyName)},l.prototype.value=function(a){var f=a.getAttribute(this.keyName);return this.canAdd(a,f)&&f?f:""},l}();i.default=o},function(r,i,n){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p])};return function(c,d){u(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(11),l=n(5),a=n(0),f=function(u){s(c,u);function c(d){var p=u.call(this,d)||this;return p.build(),p}return c.prototype.appendChild=function(d){this.insertBefore(d)},c.prototype.attach=function(){u.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},c.prototype.build=function(){var d=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var v=h(p);d.insertBefore(v,d.children.head||void 0)}catch(y){if(y instanceof a.ParchmentError)return;throw y}})},c.prototype.deleteAt=function(d,p){if(d===0&&p===this.length())return this.remove();this.children.forEachAt(d,p,function(v,y,m){v.deleteAt(y,m)})},c.prototype.descendant=function(d,p){var v=this.children.find(p),y=v[0],m=v[1];return d.blotName==null&&d(y)||d.blotName!=null&&y instanceof d?[y,m]:y instanceof c?y.descendant(d,m):[null,-1]},c.prototype.descendants=function(d,p,v){p===void 0&&(p=0),v===void 0&&(v=Number.MAX_VALUE);var y=[],m=v;return this.children.forEachAt(p,v,function(g,_,S){(d.blotName==null&&d(g)||d.blotName!=null&&g instanceof d)&&y.push(g),g instanceof c&&(y=y.concat(g.descendants(d,_,m))),m-=S}),y},c.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),u.prototype.detach.call(this)},c.prototype.formatAt=function(d,p,v,y){this.children.forEachAt(d,p,function(m,g,_){m.formatAt(g,_,v,y)})},c.prototype.insertAt=function(d,p,v){var y=this.children.find(d),m=y[0],g=y[1];if(m)m.insertAt(g,p,v);else{var _=v==null?a.create("text",p):a.create(p,v);this.appendChild(_)}},c.prototype.insertBefore=function(d,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return d instanceof v}))throw new a.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,p)},c.prototype.length=function(){return this.children.reduce(function(d,p){return d+p.length()},0)},c.prototype.moveChildren=function(d,p){this.children.forEach(function(v){d.insertBefore(v,p)})},c.prototype.optimize=function(d){if(u.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var p=a.create(this.statics.defaultChild);this.appendChild(p),p.optimize(d)}else this.remove()},c.prototype.path=function(d,p){p===void 0&&(p=!1);var v=this.children.find(d,p),y=v[0],m=v[1],g=[[this,d]];return y instanceof c?g.concat(y.path(m,p)):(y!=null&&g.push([y,m]),g)},c.prototype.removeChild=function(d){this.children.remove(d)},c.prototype.replace=function(d){d instanceof c&&d.moveChildren(this),u.prototype.replace.call(this,d)},c.prototype.split=function(d,p){if(p===void 0&&(p=!1),!p){if(d===0)return this;if(d===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(d,this.length(),function(y,m,g){y=y.split(m,p),v.appendChild(y)}),v},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(d,p){var v=this,y=[],m=[];d.forEach(function(g){g.target===v.domNode&&g.type==="childList"&&(y.push.apply(y,g.addedNodes),m.push.apply(m,g.removedNodes))}),m.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=a.find(g);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===v.domNode)&&_.detach()}}),y.filter(function(g){return g.parentNode==v.domNode}).sort(function(g,_){return g===_?0:g.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var _=null;g.nextSibling!=null&&(_=a.find(g.nextSibling));var S=h(g);(S.next!=_||S.next==null)&&(S.parent!=null&&S.parent.removeChild(v),v.insertBefore(S,_||void 0))})},c}(l.default);function h(u){var c=a.find(u);if(c==null)try{c=a.create(u)}catch{c=a.create(a.Scope.INLINE),[].slice.call(u.childNodes).forEach(function(p){c.domNode.appendChild(p)}),u.parentNode&&u.parentNode.replaceChild(c.domNode,u),c.attach()}return c}i.default=f},function(r,i,n){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p])};return function(c,d){u(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(1),l=n(6),a=n(2),f=n(0),h=function(u){s(c,u);function c(d){var p=u.call(this,d)||this;return p.attributes=new l.default(p.domNode),p}return c.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},c.prototype.format=function(d,p){var v=f.query(d);v instanceof o.default?this.attributes.attribute(v,p):p&&v!=null&&(d!==this.statics.blotName||this.formats()[d]!==p)&&this.replaceWith(d,p)},c.prototype.formats=function(){var d=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(d[this.statics.blotName]=p),d},c.prototype.replaceWith=function(d,p){var v=u.prototype.replaceWith.call(this,d,p);return this.attributes.copy(v),v},c.prototype.update=function(d,p){var v=this;u.prototype.update.call(this,d,p),d.some(function(y){return y.target===v.domNode&&y.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(d,p){var v=u.prototype.wrap.call(this,d,p);return v instanceof c&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},c}(a.default);i.default=h},function(r,i,n){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var c in u)u.hasOwnProperty(c)&&(h[c]=u[c])};return function(h,u){f(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(5),l=n(0),a=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.value=function(u){return!0},h.prototype.index=function(u,c){return this.domNode===u||this.domNode.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},h.prototype.position=function(u,c){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return u>0&&(d+=1),[this.parent.domNode,d]},h.prototype.value=function(){return u={},u[this.statics.blotName]=this.statics.value(this.domNode)||!0,u;var u},h.scope=l.Scope.INLINE_BLOT,h}(o.default);i.default=a},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=n(0),o=function(){function l(a){this.domNode=a,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(a){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),typeof a=="number"?f=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?f=document.createElement(a):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return s.create(a)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},l.prototype.deleteAt=function(a,f){var h=this.isolate(a,f);h.remove()},l.prototype.formatAt=function(a,f,h,u){var c=this.isolate(a,f);if(s.query(h,s.Scope.BLOT)!=null&&u)c.wrap(h,u);else if(s.query(h,s.Scope.ATTRIBUTE)!=null){var d=s.create(this.statics.scope);c.wrap(d),d.format(h,u)}},l.prototype.insertAt=function(a,f,h){var u=h==null?s.create("text",f):s.create(f,h),c=this.split(a);this.parent.insertBefore(u,c)},l.prototype.insertInto=function(a,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var h=null;a.children.insertBefore(this,f),f!=null&&(h=f.domNode),(this.domNode.parentNode!=a.domNode||this.domNode.nextSibling!=h)&&a.domNode.insertBefore(this.domNode,h),this.parent=a,this.attach()},l.prototype.isolate=function(a,f){var h=this.split(a);return h.split(f),h},l.prototype.length=function(){return 1},l.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},l.prototype.optimize=function(a){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(a){a.parent!=null&&(a.parent.insertBefore(this,a.next),a.remove())},l.prototype.replaceWith=function(a,f){var h=typeof a=="string"?s.create(a,f):a;return h.replace(this),h},l.prototype.split=function(a,f){return a===0?this:this.next},l.prototype.update=function(a,f){},l.prototype.wrap=function(a,f){var h=typeof a=="string"?s.create(a,f):a;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},l.blotName="abstract",l}();i.default=o},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=n(1),o=n(7),l=n(8),a=n(0),f=function(){function h(u){this.attributes={},this.domNode=u,this.build()}return h.prototype.attribute=function(u,c){c?u.add(this.domNode,c)&&(u.value(this.domNode)!=null?this.attributes[u.attrName]=u:delete this.attributes[u.attrName]):(u.remove(this.domNode),delete this.attributes[u.attrName])},h.prototype.build=function(){var u=this;this.attributes={};var c=s.default.keys(this.domNode),d=o.default.keys(this.domNode),p=l.default.keys(this.domNode);c.concat(d).concat(p).forEach(function(v){var y=a.query(v,a.Scope.ATTRIBUTE);y instanceof s.default&&(u.attributes[y.attrName]=y)})},h.prototype.copy=function(u){var c=this;Object.keys(this.attributes).forEach(function(d){var p=c.attributes[d].value(c.domNode);u.format(d,p)})},h.prototype.move=function(u){var c=this;this.copy(u),Object.keys(this.attributes).forEach(function(d){c.attributes[d].remove(c.domNode)}),this.attributes={}},h.prototype.values=function(){var u=this;return Object.keys(this.attributes).reduce(function(c,d){return c[d]=u.attributes[d].value(u.domNode),c},{})},h}();i.default=f},function(r,i,n){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var c in u)u.hasOwnProperty(c)&&(h[c]=u[c])};return function(h,u){f(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(1);function l(f,h){var u=f.getAttribute("class")||"";return u.split(/\s+/).filter(function(c){return c.indexOf(h+"-")===0})}var a=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(u){return(u.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},h.prototype.add=function(u,c){return this.canAdd(u,c)?(this.remove(u),u.classList.add(this.keyName+"-"+c),!0):!1},h.prototype.remove=function(u){var c=l(u,this.keyName);c.forEach(function(d){u.classList.remove(d)}),u.classList.length===0&&u.removeAttribute("class")},h.prototype.value=function(u){var c=l(u,this.keyName)[0]||"",d=c.slice(this.keyName.length+1);return this.canAdd(u,d)?d:""},h}(o.default);i.default=a},function(r,i,n){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var c in u)u.hasOwnProperty(c)&&(h[c]=u[c])};return function(h,u){f(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(1);function l(f){var h=f.split("-"),u=h.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return h[0]+u}var a=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(u){return(u.getAttribute("style")||"").split(";").map(function(c){var d=c.split(":");return d[0].trim()})},h.prototype.add=function(u,c){return this.canAdd(u,c)?(u.style[l(this.keyName)]=c,!0):!1},h.prototype.remove=function(u){u.style[l(this.keyName)]="",u.getAttribute("style")||u.removeAttribute("style")},h.prototype.value=function(u){var c=u.style[l(this.keyName)];return this.canAdd(u,c)?c:""},h}(o.default);i.default=a},function(r,i,n){r.exports=n(10)},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=n(2),o=n(3),l=n(4),a=n(12),f=n(13),h=n(14),u=n(15),c=n(16),d=n(1),p=n(7),v=n(8),y=n(6),m=n(0),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:s.default,Format:o.default,Leaf:l.default,Embed:u.default,Scroll:a.default,Block:h.default,Inline:f.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:v.default,Store:y.default}};i.default=g},function(r,i,n){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var a,f=this.iterator();a=f();)if(a===l)return!0;return!1},o.prototype.insertBefore=function(l,a){l&&(l.next=a,a!=null?(l.prev=a.prev,a.prev!=null&&(a.prev.next=l),a.prev=l,a===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var a=0,f=this.head;f!=null;){if(f===l)return a;a+=f.length(),f=f.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var a=l;return l!=null&&(l=l.next),a}},o.prototype.find=function(l,a){a===void 0&&(a=!1);for(var f,h=this.iterator();f=h();){var u=f.length();if(l<u||a&&l===u&&(f.next==null||f.next.length()!==0))return[f,l];l-=u}return[null,0]},o.prototype.forEach=function(l){for(var a,f=this.iterator();a=f();)l(a)},o.prototype.forEachAt=function(l,a,f){if(!(a<=0))for(var h=this.find(l),u=h[0],c=h[1],d,p=l-c,v=this.iterator(u);(d=v())&&p<l+a;){var y=d.length();l>p?f(d,l-p,Math.min(a,p+y-l)):f(d,0,Math.min(y,l+a-p)),p+=y}},o.prototype.map=function(l){return this.reduce(function(a,f){return a.push(l(f)),a},[])},o.prototype.reduce=function(l,a){for(var f,h=this.iterator();f=h();)a=l(a,f);return a},o}();i.default=s},function(r,i,n){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p])};return function(c,d){u(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(2),l=n(0),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,h=function(u){s(c,u);function c(d){var p=u.call(this,d)||this;return p.scroll=p,p.observer=new MutationObserver(function(v){p.update(v)}),p.observer.observe(p.domNode,a),p.attach(),p}return c.prototype.detach=function(){u.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(d,p){this.update(),d===0&&p===this.length()?this.children.forEach(function(v){v.remove()}):u.prototype.deleteAt.call(this,d,p)},c.prototype.formatAt=function(d,p,v,y){this.update(),u.prototype.formatAt.call(this,d,p,v,y)},c.prototype.insertAt=function(d,p,v){this.update(),u.prototype.insertAt.call(this,d,p,v)},c.prototype.optimize=function(d,p){var v=this;d===void 0&&(d=[]),p===void 0&&(p={}),u.prototype.optimize.call(this,p);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)d.push(y.pop());for(var m=function(E,x){x===void 0&&(x=!0),!(E==null||E===v)&&E.domNode.parentNode!=null&&(E.domNode[l.DATA_KEY].mutations==null&&(E.domNode[l.DATA_KEY].mutations=[]),x&&m(E.parent))},g=function(E){E.domNode[l.DATA_KEY]==null||E.domNode[l.DATA_KEY].mutations==null||(E instanceof o.default&&E.children.forEach(g),E.optimize(p))},_=d,S=0;_.length>0;S+=1){if(S>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(E){var x=l.find(E.target,!0);x!=null&&(x.domNode===E.target&&(E.type==="childList"?(m(l.find(E.previousSibling,!1)),[].forEach.call(E.addedNodes,function(O){var I=l.find(O,!1);m(I,!1),I instanceof o.default&&I.children.forEach(function(wt){m(wt,!1)})})):E.type==="attributes"&&m(x.prev)),m(x))}),this.children.forEach(g),_=[].slice.call(this.observer.takeRecords()),y=_.slice();y.length>0;)d.push(y.pop())}},c.prototype.update=function(d,p){var v=this;p===void 0&&(p={}),d=d||this.observer.takeRecords(),d.map(function(y){var m=l.find(y.target,!0);return m==null?null:m.domNode[l.DATA_KEY].mutations==null?(m.domNode[l.DATA_KEY].mutations=[y],m):(m.domNode[l.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===v||y.domNode[l.DATA_KEY]==null||y.update(y.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&u.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(d,p)},c.blotName="scroll",c.defaultChild="block",c.scope=l.Scope.BLOCK_BLOT,c.tagName="DIV",c}(o.default);i.default=h},function(r,i,n){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){h(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(3),l=n(0);function a(h,u){if(Object.keys(h).length!==Object.keys(u).length)return!1;for(var c in h)if(h[c]!==u[c])return!1;return!0}var f=function(h){s(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.formats=function(c){if(c.tagName!==u.tagName)return h.formats.call(this,c)},u.prototype.format=function(c,d){var p=this;c===this.statics.blotName&&!d?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(u.blotName,!0)),p.attributes.copy(v)}),this.unwrap()):h.prototype.format.call(this,c,d)},u.prototype.formatAt=function(c,d,p,v){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var y=this.isolate(c,d);y.format(p,v)}else h.prototype.formatAt.call(this,c,d,p,v)},u.prototype.optimize=function(c){h.prototype.optimize.call(this,c);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var p=this.next;p instanceof u&&p.prev===this&&a(d,p.formats())&&(p.moveChildren(this),p.remove())},u.blotName="inline",u.scope=l.Scope.INLINE_BLOT,u.tagName="SPAN",u}(o.default);i.default=f},function(r,i,n){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var c in u)u.hasOwnProperty(c)&&(h[c]=u[c])};return function(h,u){f(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(3),l=n(0),a=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(u){var c=l.query(h.blotName).tagName;if(u.tagName!==c)return f.formats.call(this,u)},h.prototype.format=function(u,c){l.query(u,l.Scope.BLOCK)!=null&&(u===this.statics.blotName&&!c?this.replaceWith(h.blotName):f.prototype.format.call(this,u,c))},h.prototype.formatAt=function(u,c,d,p){l.query(d,l.Scope.BLOCK)!=null?this.format(d,p):f.prototype.formatAt.call(this,u,c,d,p)},h.prototype.insertAt=function(u,c,d){if(d==null||l.query(c,l.Scope.INLINE)!=null)f.prototype.insertAt.call(this,u,c,d);else{var p=this.split(u),v=l.create(c,d);p.parent.insertBefore(v,p)}},h.prototype.update=function(u,c){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,u,c)},h.blotName="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);i.default=a},function(r,i,n){var s=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var u in h)h.hasOwnProperty(u)&&(f[u]=h[u])};return function(f,h){a(f,h);function u(){this.constructor=f}f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(4),l=function(a){s(f,a);function f(){return a!==null&&a.apply(this,arguments)||this}return f.formats=function(h){},f.prototype.format=function(h,u){a.prototype.formatAt.call(this,0,this.length(),h,u)},f.prototype.formatAt=function(h,u,c,d){h===0&&u===this.length()?this.format(c,d):a.prototype.formatAt.call(this,h,u,c,d)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);i.default=l},function(r,i,n){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var c in u)u.hasOwnProperty(c)&&(h[c]=u[c])};return function(h,u){f(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=n(4),l=n(0),a=function(f){s(h,f);function h(u){var c=f.call(this,u)||this;return c.text=c.statics.value(c.domNode),c}return h.create=function(u){return document.createTextNode(u)},h.value=function(u){var c=u.data;return c.normalize&&(c=c.normalize()),c},h.prototype.deleteAt=function(u,c){this.domNode.data=this.text=this.text.slice(0,u)+this.text.slice(u+c)},h.prototype.index=function(u,c){return this.domNode===u?c:-1},h.prototype.insertAt=function(u,c,d){d==null?(this.text=this.text.slice(0,u)+c+this.text.slice(u),this.domNode.data=this.text):f.prototype.insertAt.call(this,u,c,d)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(u){f.prototype.optimize.call(this,u),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(u,c){return[this.domNode,u]},h.prototype.split=function(u,c){if(c===void 0&&(c=!1),!c){if(u===0)return this;if(u===this.length())return this.next}var d=l.create(this.domNode.splitText(u));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},h.prototype.update=function(u,c){var d=this;u.some(function(p){return p.type==="characterData"&&p.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=l.Scope.INLINE_BLOT,h}(o.default);i.default=a}])})})(xn);var Zo=xn.exports;const b=ut(Zo);let On=document.createElement("div");On.classList.toggle("test-class",!1);if(On.classList.contains("test-class")){let e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,r){return arguments.length>1&&!this.contains(t)==!r?r:e.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e});String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();(typeof t!="number"||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var i=r.indexOf(e,t);return i!==-1&&i===t});Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof e!="function")throw new TypeError("predicate must be a function");for(var t=Object(this),r=t.length>>>0,i=arguments[1],n,s=0;s<r;s++)if(n=t[s],e.call(i,n,s,t))return n}});document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)});var J=-1,X=1,B=0;function Xt(e,t,r){if(e==t)return e?[[B,e]]:[];(r<0||e.length<r)&&(r=null);var i=$r(e,t),n=e.substring(0,i);e=e.substring(i),t=t.substring(i),i=Br(e,t);var s=e.substring(e.length-i);e=e.substring(0,e.length-i),t=t.substring(0,t.length-i);var o=Qo(e,t);return n&&o.unshift([B,n]),s&&o.push([B,s]),wn(o),r!=null&&(o=nl(o,r)),o=sl(o),o}function Qo(e,t){var r;if(!e)return[[X,t]];if(!t)return[[J,e]];var i=e.length>t.length?e:t,n=e.length>t.length?t:e,s=i.indexOf(n);if(s!=-1)return r=[[X,i.substring(0,s)],[B,n],[X,i.substring(s+n.length)]],e.length>t.length&&(r[0][0]=r[2][0]=J),r;if(n.length==1)return[[J,e],[X,t]];var o=el(e,t);if(o){var l=o[0],a=o[1],f=o[2],h=o[3],u=o[4],c=Xt(l,f),d=Xt(a,h);return c.concat([[B,u]],d)}return tl(e,t)}function tl(e,t){for(var r=e.length,i=t.length,n=Math.ceil((r+i)/2),s=n,o=2*n,l=new Array(o),a=new Array(o),f=0;f<o;f++)l[f]=-1,a[f]=-1;l[s+1]=0,a[s+1]=0;for(var h=r-i,u=h%2!=0,c=0,d=0,p=0,v=0,y=0;y<n;y++){for(var m=-y+c;m<=y-d;m+=2){var g=s+m,_;m==-y||m!=y&&l[g-1]<l[g+1]?_=l[g+1]:_=l[g-1]+1;for(var S=_-m;_<r&&S<i&&e.charAt(_)==t.charAt(S);)_++,S++;if(l[g]=_,_>r)d+=2;else if(S>i)c+=2;else if(u){var E=s+h-m;if(E>=0&&E<o&&a[E]!=-1){var x=r-a[E];if(_>=x)return Ti(e,t,_,S)}}}for(var O=-y+p;O<=y-v;O+=2){var E=s+O,x;O==-y||O!=y&&a[E-1]<a[E+1]?x=a[E+1]:x=a[E-1]+1;for(var I=x-O;x<r&&I<i&&e.charAt(r-x-1)==t.charAt(i-I-1);)x++,I++;if(a[E]=x,x>r)v+=2;else if(I>i)p+=2;else if(!u){var g=s+h-O;if(g>=0&&g<o&&l[g]!=-1){var _=l[g],S=s+_-g;if(x=r-x,_>=x)return Ti(e,t,_,S)}}}}return[[J,e],[X,t]]}function Ti(e,t,r,i){var n=e.substring(0,r),s=t.substring(0,i),o=e.substring(r),l=t.substring(i),a=Xt(n,s),f=Xt(o,l);return a.concat(f)}function $r(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,i=Math.min(e.length,t.length),n=i,s=0;r<n;)e.substring(s,n)==t.substring(s,n)?(r=n,s=r):i=n,n=Math.floor((i-r)/2+r);return n}function Br(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,i=Math.min(e.length,t.length),n=i,s=0;r<n;)e.substring(e.length-n,e.length-s)==t.substring(t.length-n,t.length-s)?(r=n,s=r):i=n,n=Math.floor((i-r)/2+r);return n}function el(e,t){var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;function n(d,p,v){for(var y=d.substring(v,v+Math.floor(d.length/4)),m=-1,g="",_,S,E,x;(m=p.indexOf(y,m+1))!=-1;){var O=$r(d.substring(v),p.substring(m)),I=Br(d.substring(0,v),p.substring(0,m));g.length<I+O&&(g=p.substring(m-I,m)+p.substring(m,m+O),_=d.substring(0,v-I),S=d.substring(v+O),E=p.substring(0,m-I),x=p.substring(m+O))}return g.length*2>=d.length?[_,S,E,x,g]:null}var s=n(r,i,Math.ceil(r.length/4)),o=n(r,i,Math.ceil(r.length/2)),l;if(!s&&!o)return null;o?s?l=s[4].length>o[4].length?s:o:l=o:l=s;var a,f,h,u;e.length>t.length?(a=l[0],f=l[1],h=l[2],u=l[3]):(h=l[0],u=l[1],a=l[2],f=l[3]);var c=l[4];return[a,f,h,u,c]}function wn(e){e.push([B,""]);for(var t=0,r=0,i=0,n="",s="",o;t<e.length;)switch(e[t][0]){case X:i++,s+=e[t][1],t++;break;case J:r++,n+=e[t][1],t++;break;case B:r+i>1?(r!==0&&i!==0&&(o=$r(s,n),o!==0&&(t-r-i>0&&e[t-r-i-1][0]==B?e[t-r-i-1][1]+=s.substring(0,o):(e.splice(0,0,[B,s.substring(0,o)]),t++),s=s.substring(o),n=n.substring(o)),o=Br(s,n),o!==0&&(e[t][1]=s.substring(s.length-o)+e[t][1],s=s.substring(0,s.length-o),n=n.substring(0,n.length-o))),r===0?e.splice(t-i,r+i,[X,s]):i===0?e.splice(t-r,r+i,[J,n]):e.splice(t-r-i,r+i,[J,n],[X,s]),t=t-r-i+(r?1:0)+(i?1:0)+1):t!==0&&e[t-1][0]==B?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,i=0,r=0,n="",s="";break}e[e.length-1][1]===""&&e.pop();var l=!1;for(t=1;t<e.length-1;)e[t-1][0]==B&&e[t+1][0]==B&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)==e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),l=!0):e[t][1].substring(0,e[t+1][1].length)==e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),l=!0)),t++;l&&wn(e)}var ke=Xt;ke.INSERT=X;ke.DELETE=J;ke.EQUAL=B;var rl=ke;function il(e,t){if(t===0)return[B,e];for(var r=0,i=0;i<e.length;i++){var n=e[i];if(n[0]===J||n[0]===B){var s=r+n[1].length;if(t===s)return[i+1,e];if(t<s){e=e.slice();var o=t-r,l=[n[0],n[1].slice(0,o)],a=[n[0],n[1].slice(o)];return e.splice(i,1,l,a),[i+1,e]}else r=s}}throw new Error("cursor_pos is out of bounds!")}function nl(e,t){var r=il(e,t),i=r[1],n=r[0],s=i[n],o=i[n+1];if(s==null)return e;if(s[0]!==B)return e;if(o!=null&&s[1]+o[1]===o[1]+s[1])return i.splice(n,2,o,s),Li(i,n,2);if(o!=null&&o[1].indexOf(s[1])===0){i.splice(n,2,[o[0],s[1]],[0,s[1]]);var l=o[1].slice(s[1].length);return l.length>0&&i.splice(n+2,0,[o[0],l]),Li(i,n,3)}else return e}function sl(e){for(var t=!1,r=function(o){return o.charCodeAt(0)>=56320&&o.charCodeAt(0)<=57343},i=function(o){return o.charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319},n=2;n<e.length;n+=1)e[n-2][0]===B&&i(e[n-2][1])&&e[n-1][0]===J&&r(e[n-1][1])&&e[n][0]===X&&r(e[n][1])&&(t=!0,e[n-1][1]=e[n-2][1].slice(-1)+e[n-1][1],e[n][1]=e[n-2][1].slice(-1)+e[n][1],e[n-2][1]=e[n-2][1].slice(0,-1));if(!t)return e;for(var s=[],n=0;n<e.length;n+=1)e[n][1].length>0&&s.push(e[n]);return s}function Li(e,t,r){for(var i=t+r-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var n=e[i],s=e[i+1];n[0]===s[1]&&e.splice(i,2,[n[0],n[1]+s[1]])}return e}var Ci=Object.prototype.toString,Tn=function(t){var r=Ci.call(t),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Ci.call(t.callee)==="[object Function]"),i},Je,ki;function ol(){if(ki)return Je;ki=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Tn,n=Object.prototype.propertyIsEnumerable,s=!n.call({toString:null},"toString"),o=n.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=function(c){var d=c.constructor;return d&&d.prototype===c},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!f["$"+c]&&t.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{a(window[c])}catch{return!0}}catch{return!0}return!1}(),u=function(c){if(typeof window>"u"||!h)return a(c);try{return a(c)}catch{return!1}};e=function(d){var p=d!==null&&typeof d=="object",v=r.call(d)==="[object Function]",y=i(d),m=p&&r.call(d)==="[object String]",g=[];if(!p&&!v&&!y)throw new TypeError("Object.keys called on a non-object");var _=o&&v;if(m&&d.length>0&&!t.call(d,0))for(var S=0;S<d.length;++S)g.push(String(S));if(y&&d.length>0)for(var E=0;E<d.length;++E)g.push(String(E));else for(var x in d)!(_&&x==="prototype")&&t.call(d,x)&&g.push(String(x));if(s)for(var O=u(d),I=0;I<l.length;++I)!(O&&l[I]==="constructor")&&t.call(d,l[I])&&g.push(l[I]);return g}}return Je=e,Je}var ll=Array.prototype.slice,al=Tn,Ii=Object.keys,_e=Ii?function(t){return Ii(t)}:ol(),Pi=Object.keys;_e.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(i){return al(i)?Pi(ll.call(i)):Pi(i)})}else Object.keys=_e;return Object.keys||_e};var Ln=_e,Cn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;t[r]=n;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0},ul=Cn,Mr=function(){return ul()&&!!Symbol.toStringTag},qi=typeof Symbol<"u"&&Symbol,cl=Cn,fl=function(){return typeof qi!="function"||typeof Symbol!="function"||typeof qi("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:cl()},Ri={foo:{}},hl=Object,dl=function(){return{__proto__:Ri}.foo===Ri.foo&&!({__proto__:null}instanceof hl)},pl="Function.prototype.bind called on incompatible ",Ze=Array.prototype.slice,yl=Object.prototype.toString,gl="[object Function]",ml=function(t){var r=this;if(typeof r!="function"||yl.call(r)!==gl)throw new TypeError(pl+r);for(var i=Ze.call(arguments,1),n,s=function(){if(this instanceof n){var h=r.apply(this,i.concat(Ze.call(arguments)));return Object(h)===h?h:this}else return r.apply(t,i.concat(Ze.call(arguments)))},o=Math.max(0,r.length-i.length),l=[],a=0;a<o;a++)l.push("$"+a);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=function(){};f.prototype=r.prototype,n.prototype=new f,f.prototype=null}return n},vl=ml,Dr=Function.prototype.bind||vl,bl=Dr,_l=bl.call(Function.call,Object.prototype.hasOwnProperty),L,It=SyntaxError,kn=Function,kt=TypeError,Qe=function(e){try{return kn('"use strict"; return ('+e+").constructor;")()}catch{}},yt=Object.getOwnPropertyDescriptor;if(yt)try{yt({},"")}catch{yt=null}var tr=function(){throw new kt},El=yt?function(){try{return arguments.callee,tr}catch{try{return yt(arguments,"callee").get}catch{return tr}}}():tr,Lt=fl(),Al=dl(),R=Object.getPrototypeOf||(Al?function(e){return e.__proto__}:null),Ct={},Sl=typeof Uint8Array>"u"||!R?L:R(Uint8Array),gt={"%AggregateError%":typeof AggregateError>"u"?L:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?L:ArrayBuffer,"%ArrayIteratorPrototype%":Lt&&R?R([][Symbol.iterator]()):L,"%AsyncFromSyncIteratorPrototype%":L,"%AsyncFunction%":Ct,"%AsyncGenerator%":Ct,"%AsyncGeneratorFunction%":Ct,"%AsyncIteratorPrototype%":Ct,"%Atomics%":typeof Atomics>"u"?L:Atomics,"%BigInt%":typeof BigInt>"u"?L:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?L:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?L:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?L:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?L:Float32Array,"%Float64Array%":typeof Float64Array>"u"?L:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?L:FinalizationRegistry,"%Function%":kn,"%GeneratorFunction%":Ct,"%Int8Array%":typeof Int8Array>"u"?L:Int8Array,"%Int16Array%":typeof Int16Array>"u"?L:Int16Array,"%Int32Array%":typeof Int32Array>"u"?L:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lt&&R?R(R([][Symbol.iterator]())):L,"%JSON%":typeof JSON=="object"?JSON:L,"%Map%":typeof Map>"u"?L:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Lt||!R?L:R(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?L:Promise,"%Proxy%":typeof Proxy>"u"?L:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?L:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?L:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Lt||!R?L:R(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?L:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lt&&R?R(""[Symbol.iterator]()):L,"%Symbol%":Lt?Symbol:L,"%SyntaxError%":It,"%ThrowTypeError%":El,"%TypedArray%":Sl,"%TypeError%":kt,"%Uint8Array%":typeof Uint8Array>"u"?L:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?L:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?L:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?L:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?L:WeakMap,"%WeakRef%":typeof WeakRef>"u"?L:WeakRef,"%WeakSet%":typeof WeakSet>"u"?L:WeakSet};if(R)try{null.error}catch(e){var Nl=R(R(e));gt["%Error.prototype%"]=Nl}var xl=function e(t){var r;if(t==="%AsyncFunction%")r=Qe("async function () {}");else if(t==="%GeneratorFunction%")r=Qe("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Qe("async function* () {}");else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var n=e("%AsyncGenerator%");n&&R&&(r=R(n.prototype))}return gt[t]=r,r},ji={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},re=Dr,xe=_l,Ol=re.call(Function.call,Array.prototype.concat),wl=re.call(Function.apply,Array.prototype.splice),$i=re.call(Function.call,String.prototype.replace),Oe=re.call(Function.call,String.prototype.slice),Tl=re.call(Function.call,RegExp.prototype.exec),Ll=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Cl=/\\(\\)?/g,kl=function(t){var r=Oe(t,0,1),i=Oe(t,-1);if(r==="%"&&i!=="%")throw new It("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new It("invalid intrinsic syntax, expected opening `%`");var n=[];return $i(t,Ll,function(s,o,l,a){n[n.length]=l?$i(a,Cl,"$1"):o||s}),n},Il=function(t,r){var i=t,n;if(xe(ji,i)&&(n=ji[i],i="%"+n[0]+"%"),xe(gt,i)){var s=gt[i];if(s===Ct&&(s=xl(i)),typeof s>"u"&&!r)throw new kt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new It("intrinsic "+t+" does not exist!")},Fr=function(t,r){if(typeof t!="string"||t.length===0)throw new kt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new kt('"allowMissing" argument must be a boolean');if(Tl(/^%?[^%]*%?$/,t)===null)throw new It("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=kl(t),n=i.length>0?i[0]:"",s=Il("%"+n+"%",r),o=s.name,l=s.value,a=!1,f=s.alias;f&&(n=f[0],wl(i,Ol([0,1],f)));for(var h=1,u=!0;h<i.length;h+=1){var c=i[h],d=Oe(c,0,1),p=Oe(c,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new It("property names with quotes must have matching quotes");if((c==="constructor"||!u)&&(a=!0),n+="."+c,o="%"+n+"%",xe(gt,o))l=gt[o];else if(l!=null){if(!(c in l)){if(!r)throw new kt("base intrinsic for "+t+" exists, but the property is not available.");return}if(yt&&h+1>=i.length){var v=yt(l,c);u=!!v,u&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[c]}else u=xe(l,c),l=l[c];u&&!a&&(gt[o]=l)}}return l},In={exports:{}};(function(e){var t=Dr,r=Fr,i=r("%Function.prototype.apply%"),n=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(n,i),o=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),a=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}e.exports=function(u){var c=s(t,n,arguments);if(o&&l){var d=o(c,"length");d.configurable&&l(c,"length",{value:1+a(0,u.length-(arguments.length-1))})}return c};var f=function(){return s(t,i,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f})(In);var Ur=In.exports,Pn=Fr,qn=Ur,Pl=qn(Pn("String.prototype.indexOf")),Rn=function(t,r){var i=Pn(t,!!r);return typeof i=="function"&&Pl(t,".prototype.")>-1?qn(i):i},ql=Mr(),Rl=Rn,fr=Rl("Object.prototype.toString"),Ie=function(t){return ql&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:fr(t)==="[object Arguments]"},jn=function(t){return Ie(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&fr(t)!=="[object Array]"&&fr(t.callee)==="[object Function]"},jl=function(){return Ie(arguments)}();Ie.isLegacyArguments=jn;var $l=jl?Ie:jn,Bl=Fr,hr=Bl("%Object.defineProperty%",!0),dr=function(){if(hr)try{return hr({},"a",{value:1}),!0}catch{return!1}return!1};dr.hasArrayLengthDefineBug=function(){if(!dr())return null;try{return hr([],"length",{value:1}).length!==1}catch{return!0}};var Ml=dr,Dl=Ln,Fl=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Ul=Object.prototype.toString,zl=Array.prototype.concat,$n=Object.defineProperty,Kl=function(e){return typeof e=="function"&&Ul.call(e)==="[object Function]"},Hl=Ml(),Bn=$n&&Hl,Wl=function(e,t,r,i){if(t in e){if(i===!0){if(e[t]===r)return}else if(!Kl(i)||!i())return}Bn?$n(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r},Mn=function(e,t){var r=arguments.length>2?arguments[2]:{},i=Dl(t);Fl&&(i=zl.call(i,Object.getOwnPropertySymbols(t)));for(var n=0;n<i.length;n+=1)Wl(e,i[n],t[i[n]],r[i[n]])};Mn.supportsDescriptors=!!Bn;var ie=Mn,Bi=function(e){return e!==e},Dn=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||Bi(t)&&Bi(r))},Gl=Dn,Fn=function(){return typeof Object.is=="function"?Object.is:Gl},Vl=Fn,Yl=ie,Xl=function(){var t=Vl();return Yl(Object,{is:t},{is:function(){return Object.is!==t}}),t},Jl=ie,Zl=Ur,Ql=Dn,Un=Fn,ta=Xl,zn=Zl(Un(),Object);Jl(zn,{getPolyfill:Un,implementation:Ql,shim:ta});var ea=zn,pr=Rn,Kn=Mr(),Hn,Wn,yr,gr;if(Kn){Hn=pr("Object.prototype.hasOwnProperty"),Wn=pr("RegExp.prototype.exec"),yr={};var er=function(){throw yr};gr={toString:er,valueOf:er},typeof Symbol.toPrimitive=="symbol"&&(gr[Symbol.toPrimitive]=er)}var ra=pr("Object.prototype.toString"),ia=Object.getOwnPropertyDescriptor,na="[object RegExp]",sa=Kn?function(t){if(!t||typeof t!="object")return!1;var r=ia(t,"lastIndex"),i=r&&Hn(r,"value");if(!i)return!1;try{Wn(t,gr)}catch(n){return n===yr}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:ra(t)===na},Gn={exports:{}},Jt=function(){return typeof(function(){}).name=="string"},Wt=Object.getOwnPropertyDescriptor;if(Wt)try{Wt([],"length")}catch{Wt=null}Jt.functionsHaveConfigurableNames=function(){if(!Jt()||!Wt)return!1;var t=Wt(function(){},"name");return!!t&&!!t.configurable};var oa=Function.prototype.bind;Jt.boundFunctionsHaveNames=function(){return Jt()&&typeof oa=="function"&&(function(){}).bind().name!==""};var la=Jt;(function(e){var t=la.functionsHaveConfigurableNames(),r=Object,i=TypeError;e.exports=function(){if(this!=null&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var s="";return this.hasIndices&&(s+="d"),this.global&&(s+="g"),this.ignoreCase&&(s+="i"),this.multiline&&(s+="m"),this.dotAll&&(s+="s"),this.unicode&&(s+="u"),this.unicodeSets&&(s+="v"),this.sticky&&(s+="y"),s},t&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})})(Gn);var Vn=Gn.exports,aa=Vn,ua=ie.supportsDescriptors,ca=Object.getOwnPropertyDescriptor,Yn=function(){if(ua&&/a/mig.flags==="gim"){var t=ca(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",i={};if(Object.defineProperty(i,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(i,"sticky",{get:function(){r+="y"}}),r==="dy")return t.get}}return aa},fa=ie.supportsDescriptors,ha=Yn,da=Object.getOwnPropertyDescriptor,pa=Object.defineProperty,ya=TypeError,Mi=Object.getPrototypeOf,ga=/a/,ma=function(){if(!fa||!Mi)throw new ya("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=ha(),r=Mi(ga),i=da(r,"flags");return(!i||i.get!==t)&&pa(r,"flags",{configurable:!0,enumerable:!1,get:t}),t},va=ie,ba=Ur,_a=Vn,Xn=Yn,Ea=ma,Jn=ba(Xn());va(Jn,{getPolyfill:Xn,implementation:_a,shim:Ea});var Aa=Jn,Sa=Date.prototype.getDay,Na=function(t){try{return Sa.call(t),!0}catch{return!1}},xa=Object.prototype.toString,Oa="[object Date]",wa=Mr(),Ta=function(t){return typeof t!="object"||t===null?!1:wa?Na(t):xa.call(t)===Oa},Di=Ln,Fi=$l,Ui=ea,zi=sa,Ki=Aa,Hi=Ta,Wi=Date.prototype.getTime;function Zn(e,t,r){var i=r||{};return(i.strict?Ui(e,t):e===t)?!0:!e||!t||typeof e!="object"&&typeof t!="object"?i.strict?Ui(e,t):e==t:La(e,t,i)}function Gi(e){return e==null}function Vi(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function La(e,t,r){var i,n;if(typeof e!=typeof t||Gi(e)||Gi(t)||e.prototype!==t.prototype||Fi(e)!==Fi(t))return!1;var s=zi(e),o=zi(t);if(s!==o)return!1;if(s||o)return e.source===t.source&&Ki(e)===Ki(t);if(Hi(e)&&Hi(t))return Wi.call(e)===Wi.call(t);var l=Vi(e),a=Vi(t);if(l!==a)return!1;if(l||a){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!=typeof t)return!1;try{var f=Di(e),h=Di(t)}catch{return!1}if(f.length!==h.length)return!1;for(f.sort(),h.sort(),i=f.length-1;i>=0;i--)if(f[i]!=h[i])return!1;for(i=f.length-1;i>=0;i--)if(n=f[i],!Zn(e[n],t[n],r))return!1;return!0}var zr=Zn;const Kr=ut(zr);var Ee=Object.prototype.hasOwnProperty,Qn=Object.prototype.toString,Yi=Object.defineProperty,Xi=Object.getOwnPropertyDescriptor,Ji=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Qn.call(t)==="[object Array]"},Zi=function(t){if(!t||Qn.call(t)!=="[object Object]")return!1;var r=Ee.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&Ee.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!i)return!1;var n;for(n in t);return typeof n>"u"||Ee.call(t,n)},Qi=function(t,r){Yi&&r.name==="__proto__"?Yi(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},tn=function(t,r){if(r==="__proto__")if(Ee.call(t,r)){if(Xi)return Xi(t,r).value}else return;return t[r]},Hr=function e(){var t,r,i,n,s,o,l=arguments[0],a=1,f=arguments.length,h=!1;for(typeof l=="boolean"&&(h=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<f;++a)if(t=arguments[a],t!=null)for(r in t)i=tn(l,r),n=tn(t,r),l!==n&&(h&&n&&(Zi(n)||(s=Ji(n)))?(s?(s=!1,o=i&&Ji(i)?i:[]):o=i&&Zi(i)?i:{},Qi(l,{name:r,newValue:e(h,o,n)})):typeof n<"u"&&Qi(l,{name:r,newValue:n}));return l};const U=ut(Hr);var Ca=zr,ka=Hr,Wr={attributes:{compose:function(e,t,r){typeof e!="object"&&(e={}),typeof t!="object"&&(t={});var i=ka(!0,{},t);r||(i=Object.keys(i).reduce(function(s,o){return i[o]!=null&&(s[o]=i[o]),s},{}));for(var n in e)e[n]!==void 0&&t[n]===void 0&&(i[n]=e[n]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){typeof e!="object"&&(e={}),typeof t!="object"&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(i,n){return Ca(e[n],t[n])||(i[n]=t[n]===void 0?null:t[n]),i},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if(typeof e!="object")return t;if(typeof t=="object"){if(!r)return t;var i=Object.keys(t).reduce(function(n,s){return e[s]===void 0&&(n[s]=t[s]),n},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new St(e)},length:function(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.insert=="string"?e.insert.length:1}};function St(e){this.ops=e,this.index=0,this.offset=0}St.prototype.hasNext=function(){return this.peekLength()<1/0};St.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,i=Wr.length(t);if(e>=i-r?(e=i-r,this.index+=1,this.offset=0):this.offset+=e,typeof t.delete=="number")return{delete:e};var n={};return t.attributes&&(n.attributes=t.attributes),typeof t.retain=="number"?n.retain=e:typeof t.insert=="string"?n.insert=t.insert.substr(r,e):n.insert=t.insert,n}else return{retain:1/0}};St.prototype.peek=function(){return this.ops[this.index]};St.prototype.peekLength=function(){return this.ops[this.index]?Wr.length(this.ops[this.index])-this.offset:1/0};St.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"};St.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(i)}else return[]};var ts=Wr;const Pe=ut(ts);var ye=rl,Gr=zr,Ia=Hr,M=ts,Pa=String.fromCharCode(0),k=function(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};k.prototype.insert=function(e,t){var r={};return e.length===0?this:(r.insert=e,t!=null&&typeof t=="object"&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))};k.prototype.delete=function(e){return e<=0?this:this.push({delete:e})};k.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return t!=null&&typeof t=="object"&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)};k.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=Ia(!0,{},e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[t-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(t-=1,r=this.ops[t-1],typeof r!="object"))return this.ops.unshift(e),this;if(Gr(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[t-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[t-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[t-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this};k.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this};k.prototype.filter=function(e){return this.ops.filter(e)};k.prototype.forEach=function(e){this.ops.forEach(e)};k.prototype.map=function(e){return this.ops.map(e)};k.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(i){var n=e(i)?t:r;n.push(i)}),[t,r]};k.prototype.reduce=function(e,t){return this.ops.reduce(e,t)};k.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+M.length(t):t.delete?e-t.delete:e},0)};k.prototype.length=function(){return this.reduce(function(e,t){return e+M.length(t)},0)};k.prototype.slice=function(e,t){e=e||0,typeof t!="number"&&(t=1/0);for(var r=[],i=M.iterator(this.ops),n=0;n<t&&i.hasNext();){var s;n<e?s=i.next(e-n):(s=i.next(t-n),r.push(s)),n+=M.length(s)}return new k(r)};k.prototype.compose=function(e){var t=M.iterator(this.ops),r=M.iterator(e.ops),i=[],n=r.peek();if(n!=null&&typeof n.retain=="number"&&n.attributes==null){for(var s=n.retain;t.peekType()==="insert"&&t.peekLength()<=s;)s-=t.peekLength(),i.push(t.next());n.retain-s>0&&r.next(n.retain-s)}for(var o=new k(i);t.hasNext()||r.hasNext();)if(r.peekType()==="insert")o.push(r.next());else if(t.peekType()==="delete")o.push(t.next());else{var l=Math.min(t.peekLength(),r.peekLength()),a=t.next(l),f=r.next(l);if(typeof f.retain=="number"){var h={};typeof a.retain=="number"?h.retain=l:h.insert=a.insert;var u=M.attributes.compose(a.attributes,f.attributes,typeof a.retain=="number");if(u&&(h.attributes=u),o.push(h),!r.hasNext()&&Gr(o.ops[o.ops.length-1],h)){var c=new k(t.rest());return o.concat(c).chop()}}else typeof f.delete=="number"&&typeof a.retain=="number"&&o.push(f)}return o.chop()};k.prototype.concat=function(e){var t=new k(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t};k.prototype.diff=function(e,t){if(this.ops===e.ops)return new k;var r=[this,e].map(function(l){return l.map(function(a){if(a.insert!=null)return typeof a.insert=="string"?a.insert:Pa;var f=l===e?"on":"with";throw new Error("diff() called "+f+" non-document")}).join("")}),i=new k,n=ye(r[0],r[1],t),s=M.iterator(this.ops),o=M.iterator(e.ops);return n.forEach(function(l){for(var a=l[1].length;a>0;){var f=0;switch(l[0]){case ye.INSERT:f=Math.min(o.peekLength(),a),i.push(o.next(f));break;case ye.DELETE:f=Math.min(a,s.peekLength()),s.next(f),i.delete(f);break;case ye.EQUAL:f=Math.min(s.peekLength(),o.peekLength(),a);var h=s.next(f),u=o.next(f);Gr(h.insert,u.insert)?i.retain(f,M.attributes.diff(h.attributes,u.attributes)):i.push(u).delete(f);break}a-=f}}),i.chop()};k.prototype.eachLine=function(e,t){t=t||`
`;for(var r=M.iterator(this.ops),i=new k,n=0;r.hasNext();){if(r.peekType()!=="insert")return;var s=r.peek(),o=M.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(t,o)-o:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},n)===!1)return;n+=1,i=new k}}i.length()>0&&e(i,{},n)};k.prototype.transform=function(e,t){if(t=!!t,typeof e=="number")return this.transformPosition(e,t);for(var r=M.iterator(this.ops),i=M.iterator(e.ops),n=new k;r.hasNext()||i.hasNext();)if(r.peekType()==="insert"&&(t||i.peekType()!=="insert"))n.retain(M.length(r.next()));else if(i.peekType()==="insert")n.push(i.next());else{var s=Math.min(r.peekLength(),i.peekLength()),o=r.next(s),l=i.next(s);if(o.delete)continue;l.delete?n.push(l):n.retain(s,M.attributes.transform(o.attributes,l.attributes,t))}return n.chop()};k.prototype.transformPosition=function(e,t){t=!!t;for(var r=M.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var n=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(n,e-i);continue}else s==="insert"&&(i<e||!t)&&(e+=n);i+=n}return e};var qa=k;const w=ut(qa);class Nt extends b.Embed{static value(){}insertInto(t,r){t.children.length===0?super.insertInto(t,r):this.remove()}length(){return 0}value(){return""}}Nt.blotName="break";Nt.tagName="BR";class Z extends b.Text{}class j extends b.Inline{static compare(t,r){let i=j.order.indexOf(t),n=j.order.indexOf(r);return i>=0||n>=0?i-n:t===r?0:t<r?-1:1}formatAt(t,r,i,n){if(j.compare(this.statics.blotName,i)<0&&b.query(i,b.Scope.BLOT)){let s=this.isolate(t,r);n&&s.wrap(i,n)}else super.formatAt(t,r,i,n)}optimize(t){if(super.optimize(t),this.parent instanceof j&&j.compare(this.statics.blotName,this.parent.statics.blotName)>0){let r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}j.allowedChildren=[j,b.Embed,Z];j.order=["cursor","inline","underline","strike","italic","bold","script","link","code"];const en=1;class it extends b.Embed{attach(){super.attach(),this.attributes=new b.Attributor.Store(this.domNode)}delta(){return new w().insert(this.value(),U(this.formats(),this.attributes.values()))}format(t,r){let i=b.query(t,b.Scope.BLOCK_ATTRIBUTE);i!=null&&this.attributes.attribute(i,r)}formatAt(t,r,i,n){this.format(i,n)}insertAt(t,r,i){if(typeof r=="string"&&r.endsWith(`
`)){let n=b.create(D.blotName);this.parent.insertBefore(n,t===0?this:this.next),n.insertAt(0,r.slice(0,-1))}else super.insertAt(t,r,i)}}it.scope=b.Scope.BLOCK_BLOT;class D extends b.Block{constructor(t){super(t),this.cache={}}delta(){return this.cache.delta==null&&(this.cache.delta=this.descendants(b.Leaf).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),tt(r)),new w).insert(`
`,tt(this))),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,n){r<=0||(b.query(i,b.Scope.BLOCK)?t+r===this.length()&&this.format(i,n):super.formatAt(t,Math.min(r,this.length()-t-1),i,n),this.cache={})}insertAt(t,r,i){if(i!=null)return super.insertAt(t,r,i);if(r.length===0)return;let n=r.split(`
`),s=n.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let o=this;n.reduce(function(l,a){return o=o.split(l,!0),o.insertAt(0,a),a.length},t+s.length)}insertBefore(t,r){let i=this.children.head;super.insertBefore(t,r),i instanceof Nt&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+en),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t,r=!1){if(r&&(t===0||t>=this.length()-en)){let i=this.clone();return t===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}else{let i=super.split(t,r);return this.cache={},i}}}D.blotName="block";D.tagName="P";D.defaultChild="break";D.allowedChildren=[j,b.Embed,Z];function tt(e,t={}){return e==null||(typeof e.formats=="function"&&(t=U(t,e.formats())),e.parent==null||e.parent.blotName=="scroll"||e.parent.statics.scope!==e.statics.scope)?t:tt(e.parent,t)}class Vr extends j{}Vr.blotName="code";Vr.tagName="CODE";class K extends D{static create(t){let r=super.create(t);return r.setAttribute("spellcheck",!1),r}static formats(){return!0}delta(){let t=this.domNode.textContent;return t.endsWith(`
`)&&(t=t.slice(0,-1)),t.split(`
`).reduce((r,i)=>r.insert(i).insert(`
`,this.formats()),new w)}format(t,r){if(t===this.statics.blotName&&r)return;let[i]=this.descendant(Z,this.length()-1);i!=null&&i.deleteAt(i.length()-1,1),super.format(t,r)}formatAt(t,r,i,n){if(r===0||b.query(i,b.Scope.BLOCK)==null||i===this.statics.blotName&&n===this.statics.formats(this.domNode))return;let s=this.newlineIndex(t);if(s<0||s>=t+r)return;let o=this.newlineIndex(t,!0)+1,l=s-o+1,a=this.isolate(o,l),f=a.next;a.format(i,n),f instanceof K&&f.formatAt(0,t-o+r-l,i,n)}insertAt(t,r,i){if(i!=null)return;let[n,s]=this.descendant(Z,t);n.insertAt(s,r)}length(){let t=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?t:t+1}newlineIndex(t,r=!1){if(r)return this.domNode.textContent.slice(0,t).lastIndexOf(`
`);{let i=this.domNode.textContent.slice(t).indexOf(`
`);return i>-1?t+i:-1}}optimize(t){this.domNode.textContent.endsWith(`
`)||this.appendChild(b.create("text",`
`)),super.optimize(t);let r=this.next;r!=null&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(t),r.moveChildren(this),r.remove())}replace(t){super.replace(t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(r){let i=b.find(r);i==null?r.parentNode.removeChild(r):i instanceof b.Embed?i.remove():i.unwrap()})}}K.blotName="code-block";K.tagName="PRE";K.TAB="  ";class F extends b.Embed{static value(){}constructor(t,r){super(t),this.selection=r,this.textNode=document.createTextNode(F.CONTENTS),this.domNode.appendChild(this.textNode),this._length=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,r){if(this._length!==0)return super.format(t,r);let i=this,n=0;for(;i!=null&&i.statics.scope!==b.Scope.BLOCK_BLOT;)n+=i.offset(i.parent),i=i.parent;i!=null&&(this._length=F.CONTENTS.length,i.optimize(),i.formatAt(n,F.CONTENTS.length,t,r),this._length=0)}index(t,r){return t===this.textNode?0:super.index(t,r)}length(){return this._length}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return;let t=this.textNode,r=this.selection.getNativeRange(),i,n,s;for(r!=null&&r.start.node===t&&r.end.node===t&&([i,n,s]=[t,r.start.offset,r.end.offset]);this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==F.CONTENTS){let o=this.textNode.data.split(F.CONTENTS).join("");this.next instanceof Z?(i=this.next.domNode,this.next.insertAt(0,o),this.textNode.data=F.CONTENTS):(this.textNode.data=o,this.parent.insertBefore(b.create(this.textNode),this),this.textNode=document.createTextNode(F.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),n!=null)return[n,s]=[n,s].map(function(o){return Math.max(0,Math.min(i.data.length,o-1))}),{startNode:i,startOffset:n,endNode:i,endOffset:s}}update(t,r){if(t.some(i=>i.type==="characterData"&&i.target===this.textNode)){let i=this.restore();i&&(r.range=i)}}value(){return""}}F.blotName="cursor";F.className="ql-cursor";F.tagName="span";F.CONTENTS="\uFEFF";var es={exports:{}};(function(e){var t=function(){function r(c,d){return d!=null&&c instanceof d}var i;try{i=Map}catch{i=function(){}}var n;try{n=Set}catch{n=function(){}}var s;try{s=Promise}catch{s=function(){}}function o(c,d,p,v,y){typeof d=="object"&&(p=d.depth,v=d.prototype,y=d.includeNonEnumerable,d=d.circular);var m=[],g=[],_=typeof Buffer<"u";typeof d>"u"&&(d=!0),typeof p>"u"&&(p=1/0);function S(E,x){if(E===null)return null;if(x===0)return E;var O,I;if(typeof E!="object")return E;if(r(E,i))O=new i;else if(r(E,n))O=new n;else if(r(E,s))O=new s(function(Mt,Dt){E.then(function(Ft){Mt(S(Ft,x-1))},function(Ft){Dt(S(Ft,x-1))})});else if(o.__isArray(E))O=[];else if(o.__isRegExp(E))O=new RegExp(E.source,u(E)),E.lastIndex&&(O.lastIndex=E.lastIndex);else if(o.__isDate(E))O=new Date(E.getTime());else{if(_&&Buffer.isBuffer(E))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(E.length):O=new Buffer(E.length),E.copy(O),O;r(E,Error)?O=Object.create(E):typeof v>"u"?(I=Object.getPrototypeOf(E),O=Object.create(I)):(O=Object.create(v),I=v)}if(d){var wt=m.indexOf(E);if(wt!=-1)return g[wt];m.push(E),g.push(O)}r(E,i)&&E.forEach(function(Mt,Dt){var Ft=S(Dt,x-1),Xo=S(Mt,x-1);O.set(Ft,Xo)}),r(E,n)&&E.forEach(function(Mt){var Dt=S(Mt,x-1);O.add(Dt)});for(var H in E){var Xe;I&&(Xe=Object.getOwnPropertyDescriptor(I,H)),!(Xe&&Xe.set==null)&&(O[H]=S(E[H],x-1))}if(Object.getOwnPropertySymbols)for(var Oi=Object.getOwnPropertySymbols(E),H=0;H<Oi.length;H++){var de=Oi[H],Tt=Object.getOwnPropertyDescriptor(E,de);Tt&&!Tt.enumerable&&!y||(O[de]=S(E[de],x-1),Tt.enumerable||Object.defineProperty(O,de,{enumerable:!1}))}if(y)for(var wi=Object.getOwnPropertyNames(E),H=0;H<wi.length;H++){var pe=wi[H],Tt=Object.getOwnPropertyDescriptor(E,pe);Tt&&Tt.enumerable||(O[pe]=S(E[pe],x-1),Object.defineProperty(O,pe,{enumerable:!1}))}return O}return S(c,p)}o.clonePrototype=function(d){if(d===null)return null;var p=function(){};return p.prototype=d,new p};function l(c){return Object.prototype.toString.call(c)}o.__objToStr=l;function a(c){return typeof c=="object"&&l(c)==="[object Date]"}o.__isDate=a;function f(c){return typeof c=="object"&&l(c)==="[object Array]"}o.__isArray=f;function h(c){return typeof c=="object"&&l(c)==="[object RegExp]"}o.__isRegExp=h;function u(c){var d="";return c.global&&(d+="g"),c.ignoreCase&&(d+="i"),c.multiline&&(d+="m"),d}return o.__getRegExpFlags=u,o}();e.exports&&(e.exports=t)})(es);var Ra=es.exports;const rt=ut(Ra),ja=/^[ -~]*$/;class $a{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){let r=!1;this.scroll.update();let i=this.scroll.length();return this.scroll.batchStart(),t=Ma(t),t.reduce((n,s)=>{let o=s.retain||s.delete||s.insert.length||1,l=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){let a=s.insert;a.endsWith(`
`)&&r&&(r=!1,a=a.slice(0,-1)),n>=i&&!a.endsWith(`
`)&&(r=!0),this.scroll.insertAt(n,a);let[f,h]=this.scroll.line(n),u=U({},tt(f));if(f instanceof D){let[c]=f.descendant(b.Leaf,h);u=U(u,tt(c))}l=Pe.attributes.diff(u,l)||{}}else if(typeof s.insert=="object"){let a=Object.keys(s.insert)[0];if(a==null)return n;this.scroll.insertAt(n,a,s.insert[a])}i+=o}return Object.keys(l).forEach(a=>{this.scroll.formatAt(n,o,a,l[a])}),n+o},0),t.reduce((n,s)=>typeof s.delete=="number"?(this.scroll.deleteAt(n,s.delete),n):n+(s.retain||s.insert.length||1),0),this.scroll.batchEnd(),this.update(t)}deleteText(t,r){return this.scroll.deleteAt(t,r),this.update(new w().retain(t).delete(r))}formatLine(t,r,i={}){return this.scroll.update(),Object.keys(i).forEach(n=>{if(this.scroll.whitelist!=null&&!this.scroll.whitelist[n])return;let s=this.scroll.lines(t,Math.max(r,1)),o=r;s.forEach(l=>{let a=l.length();if(!(l instanceof K))l.format(n,i[n]);else{let f=t-l.offset(this.scroll),h=l.newlineIndex(f+o)-f+1;l.formatAt(f,h,n,i[n])}o-=a})}),this.scroll.optimize(),this.update(new w().retain(t).retain(r,rt(i)))}formatText(t,r,i={}){return Object.keys(i).forEach(n=>{this.scroll.formatAt(t,r,n,i[n])}),this.update(new w().retain(t).retain(r,rt(i)))}getContents(t,r){return this.delta.slice(t,t+r)}getDelta(){return this.scroll.lines().reduce((t,r)=>t.concat(r.delta()),new w)}getFormat(t,r=0){let i=[],n=[];r===0?this.scroll.path(t).forEach(function(o){let[l]=o;l instanceof D?i.push(l):l instanceof b.Leaf&&n.push(l)}):(i=this.scroll.lines(t,r),n=this.scroll.descendants(b.Leaf,t,r));let s=[i,n].map(function(o){if(o.length===0)return{};let l=tt(o.shift());for(;Object.keys(l).length>0;){let a=o.shift();if(a==null)return l;l=Ba(tt(a),l)}return l});return U.apply(U,s)}getText(t,r){return this.getContents(t,r).filter(function(i){return typeof i.insert=="string"}).map(function(i){return i.insert}).join("")}insertEmbed(t,r,i){return this.scroll.insertAt(t,r,i),this.update(new w().retain(t).insert({[r]:i}))}insertText(t,r,i={}){return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,r),Object.keys(i).forEach(n=>{this.scroll.formatAt(t,r.length,n,i[n])}),this.update(new w().retain(t).insert(r,rt(i)))}isBlank(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;let t=this.scroll.children.head;return t.statics.blotName!==D.blotName||t.children.length>1?!1:t.children.head instanceof Nt}removeFormat(t,r){let i=this.getText(t,r),[n,s]=this.scroll.line(t+r),o=0,l=new w;n!=null&&(n instanceof K?o=n.newlineIndex(s)-s+1:o=n.length()-s,l=n.delta().slice(s,s+o-1).insert(`
`));let f=this.getContents(t,r+o).diff(new w().insert(i).concat(l)),h=new w().retain(t).concat(f);return this.applyDelta(h)}update(t,r=[],i=void 0){let n=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(ja)&&b.find(r[0].target)){let s=b.find(r[0].target),o=tt(s),l=s.offset(this.scroll),a=r[0].oldValue.replace(F.CONTENTS,""),f=new w().insert(a),h=new w().insert(s.value());t=new w().retain(l).concat(f.diff(h,i)).reduce(function(c,d){return d.insert?c.insert(d.insert,o):c.push(d)},new w),this.delta=n.compose(t)}else this.delta=this.getDelta(),(!t||!Kr(n.compose(t),this.delta))&&(t=n.diff(this.delta,i));return t}}function Ba(e,t){return Object.keys(t).reduce(function(r,i){return e[i]==null||(t[i]===e[i]?r[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(r[i]=t[i].concat([e[i]])):r[i]=[t[i],e[i]]),r},{})}function Ma(e){return e.reduce(function(t,r){if(r.insert===1){let i=rt(r.attributes);return delete i.image,t.insert({image:r.attributes.image},i)}if(r.attributes!=null&&(r.attributes.list===!0||r.attributes.bullet===!0)&&(r=rt(r),r.attributes.list?r.attributes.list="ordered":(r.attributes.list="bullet",delete r.attributes.bullet)),typeof r.insert=="string"){let i=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(i,r.attributes)}return t.push(r)},new w)}var rs={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(o,l,a){this.fn=o,this.context=l,this.once=a||!1}function s(){this._events=new i,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],a,f;if(this._eventsCount===0)return l;for(f in a=this._events)t.call(a,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(a)):l},s.prototype.listeners=function(l,a){var f=r?r+l:l,h=this._events[f];if(a)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var u=0,c=h.length,d=new Array(c);u<c;u++)d[u]=h[u].fn;return d},s.prototype.emit=function(l,a,f,h,u,c){var d=r?r+l:l;if(!this._events[d])return!1;var p=this._events[d],v=arguments.length,y,m;if(p.fn){switch(p.once&&this.removeListener(l,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,a),!0;case 3:return p.fn.call(p.context,a,f),!0;case 4:return p.fn.call(p.context,a,f,h),!0;case 5:return p.fn.call(p.context,a,f,h,u),!0;case 6:return p.fn.call(p.context,a,f,h,u,c),!0}for(m=1,y=new Array(v-1);m<v;m++)y[m-1]=arguments[m];p.fn.apply(p.context,y)}else{var g=p.length,_;for(m=0;m<g;m++)switch(p[m].once&&this.removeListener(l,p[m].fn,void 0,!0),v){case 1:p[m].fn.call(p[m].context);break;case 2:p[m].fn.call(p[m].context,a);break;case 3:p[m].fn.call(p[m].context,a,f);break;case 4:p[m].fn.call(p[m].context,a,f,h);break;default:if(!y)for(_=1,y=new Array(v-1);_<v;_++)y[_-1]=arguments[_];p[m].fn.apply(p[m].context,y)}}return!0},s.prototype.on=function(l,a,f){var h=new n(a,f||this),u=r?r+l:l;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],h]:this._events[u].push(h):(this._events[u]=h,this._eventsCount++),this},s.prototype.once=function(l,a,f){var h=new n(a,f||this,!0),u=r?r+l:l;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],h]:this._events[u].push(h):(this._events[u]=h,this._eventsCount++),this},s.prototype.removeListener=function(l,a,f,h){var u=r?r+l:l;if(!this._events[u])return this;if(!a)return--this._eventsCount===0?this._events=new i:delete this._events[u],this;var c=this._events[u];if(c.fn)c.fn===a&&(!h||c.once)&&(!f||c.context===f)&&(--this._eventsCount===0?this._events=new i:delete this._events[u]);else{for(var d=0,p=[],v=c.length;d<v;d++)(c[d].fn!==a||h&&!c[d].once||f&&c[d].context!==f)&&p.push(c[d]);p.length?this._events[u]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new i:delete this._events[u]}return this},s.prototype.removeAllListeners=function(l){var a;return l?(a=r?r+l:l,this._events[a]&&(--this._eventsCount===0?this._events=new i:delete this._events[a])):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,s.EventEmitter=s,e.exports=s})(rs);var Da=rs.exports;const Fa=ut(Da);let mr=["error","warn","log","info"],is="warn";function ns(e,...t){mr.indexOf(e)<=mr.indexOf(is)&&console[e](...t)}function ct(e){return mr.reduce(function(t,r){return t[r]=ns.bind(console,r,e),t},{})}ns.level=ct.level=function(e){is=e};let rr=ct("quill:events");const Ua=["selectionchange","mousedown","mouseup","click"];Ua.forEach(function(e){document.addEventListener(e,(...t)=>{[].slice.call(document.querySelectorAll(".ql-container")).forEach(r=>{r.__quill&&r.__quill.emitter&&r.__quill.emitter.handleDOM(...t)})})});class N extends Fa{constructor(){super(),this.listeners={},this.on("error",rr.error)}emit(){rr.log.apply(rr,arguments),super.emit.apply(this,arguments)}handleDOM(t,...r){(this.listeners[t.type]||[]).forEach(function({node:i,handler:n}){(t.target===i||i.contains(t.target))&&n(t,...r)})}listenDOM(t,r,i){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:r,handler:i})}}N.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"};N.sources={API:"api",SILENT:"silent",USER:"user"};class ft{constructor(t,r={}){this.quill=t,this.options=r}}ft.DEFAULTS={};let ir=ct("quill:selection");class Pt{constructor(t,r=0){this.index=t,this.length=r}}class za{constructor(t,r){this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=b.create("cursor",this),this.lastRange=this.savedRange=new Pt(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||setTimeout(this.update.bind(this,N.sources.USER),1)}),this.emitter.on(N.events.EDITOR_CHANGE,(i,n)=>{i===N.events.TEXT_CHANGE&&n.length()>0&&this.update(N.sources.SILENT)}),this.emitter.on(N.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let i=this.getNativeRange();i!=null&&i.start.node!==this.cursor.textNode&&this.emitter.once(N.events.SCROLL_UPDATE,()=>{try{this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset)}catch{}})}),this.emitter.on(N.events.SCROLL_OPTIMIZE,(i,n)=>{if(n.range){const{startNode:s,startOffset:o,endNode:l,endOffset:a}=n.range;this.setNativeRange(s,o,l,a)}}),this.update(N.sources.SILENT)}handleComposition(){this.root.addEventListener("compositionstart",()=>{this.composing=!0}),this.root.addEventListener("compositionend",()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(N.sources.USER)})}focus(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}format(t,r){if(this.scroll.whitelist!=null&&!this.scroll.whitelist[t])return;this.scroll.update();let i=this.getNativeRange();if(!(i==null||!i.native.collapsed||b.query(t,b.Scope.BLOCK))){if(i.start.node!==this.cursor.textNode){let n=b.find(i.start.node,!1);if(n==null)return;if(n instanceof b.Leaf){let s=n.split(i.start.offset);n.parent.insertBefore(this.cursor,s)}else n.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(t,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t,r=0){let i=this.scroll.length();t=Math.min(t,i-1),r=Math.min(t+r,i-1)-t;let n,[s,o]=this.scroll.leaf(t);if(s==null)return null;[n,o]=s.position(o,!0);let l=document.createRange();if(r>0)return l.setStart(n,o),[s,o]=this.scroll.leaf(t+r),s==null?null:([n,o]=s.position(o,!0),l.setEnd(n,o),l.getBoundingClientRect());{let a="left",f;return n instanceof Text?(o<n.data.length?(l.setStart(n,o),l.setEnd(n,o+1)):(l.setStart(n,o-1),l.setEnd(n,o),a="right"),f=l.getBoundingClientRect()):(f=s.domNode.getBoundingClientRect(),o>0&&(a="right")),{bottom:f.top+f.height,height:f.height,left:f[a],right:f[a],top:f.top,width:0}}}getNativeRange(){let t=document.getSelection();if(t==null||t.rangeCount<=0)return null;let r=t.getRangeAt(0);if(r==null)return null;let i=this.normalizeNative(r);return ir.info("getNativeRange",i),i}getRange(){let t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root}normalizedToRange(t){let r=[[t.start.node,t.start.offset]];t.native.collapsed||r.push([t.end.node,t.end.offset]);let i=r.map(o=>{let[l,a]=o,f=b.find(l,!0),h=f.offset(this.scroll);return a===0?h:f instanceof b.Container?h+f.length():h+f.index(l,a)}),n=Math.min(Math.max(...i),this.scroll.length()-1),s=Math.min(n,...i);return new Pt(s,n-s)}normalizeNative(t){if(!rn(this.root,t.startContainer)||!t.collapsed&&!rn(this.root,t.endContainer))return null;let r={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[r.start,r.end].forEach(function(i){let n=i.node,s=i.offset;for(;!(n instanceof Text)&&n.childNodes.length>0;)if(n.childNodes.length>s)n=n.childNodes[s],s=0;else if(n.childNodes.length===s)n=n.lastChild,s=n instanceof Text?n.data.length:n.childNodes.length+1;else break;i.node=n,i.offset=s}),r}rangeToNative(t){let r=t.collapsed?[t.index]:[t.index,t.index+t.length],i=[],n=this.scroll.length();return r.forEach((s,o)=>{s=Math.min(n-1,s);let l,[a,f]=this.scroll.leaf(s);[l,f]=a.position(f,o!==0),i.push(l,f)}),i.length<2&&(i=i.concat(i)),i}scrollIntoView(t){let r=this.lastRange;if(r==null)return;let i=this.getBounds(r.index,r.length);if(i==null)return;let n=this.scroll.length()-1,[s]=this.scroll.line(Math.min(r.index,n)),o=s;if(r.length>0&&([o]=this.scroll.line(Math.min(r.index+r.length,n))),s==null||o==null)return;let l=t.getBoundingClientRect();i.top<l.top?t.scrollTop-=l.top-i.top:i.bottom>l.bottom&&(t.scrollTop+=i.bottom-l.bottom)}setNativeRange(t,r,i=t,n=r,s=!1){if(ir.info("setNativeRange",t,r,i,n),t!=null&&(this.root.parentNode==null||t.parentNode==null||i.parentNode==null))return;let o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus();let l=(this.getNativeRange()||{}).native;if(l==null||s||t!==l.startContainer||r!==l.startOffset||i!==l.endContainer||n!==l.endOffset){t.tagName=="BR"&&(r=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),i.tagName=="BR"&&(n=[].indexOf.call(i.parentNode.childNodes,i),i=i.parentNode);let a=document.createRange();a.setStart(t,r),a.setEnd(i,n),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}setRange(t,r=!1,i=N.sources.API){if(typeof r=="string"&&(i=r,r=!1),ir.info("setRange",t),t!=null){let n=this.rangeToNative(t);this.setNativeRange(...n,r)}else this.setNativeRange(null);this.update(i)}update(t=N.sources.USER){let r=this.lastRange,[i,n]=this.getRange();if(this.lastRange=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Kr(r,this.lastRange)){!this.composing&&n!=null&&n.native.collapsed&&n.start.node!==this.cursor.textNode&&this.cursor.restore();let s=[N.events.SELECTION_CHANGE,rt(this.lastRange),rt(r),t];this.emitter.emit(N.events.EDITOR_CHANGE,...s),t!==N.sources.SILENT&&this.emitter.emit(...s)}}}function rn(e,t){try{t.parentNode}catch{return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}class At{constructor(t,r){this.quill=t,this.options=r,this.modules={}}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){let r=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new r(this.quill,this.options.modules[t]||{}),this.modules[t]}}At.DEFAULTS={modules:{}};At.themes={default:At};let Ae=ct("quill");class A{static debug(t){t===!0&&(t="log"),ct.level(t)}static find(t){return t.__quill||b.find(t)}static import(t){return this.imports[t]==null&&Ae.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(t,r,i=!1){if(typeof t!="string"){let n=t.attrName||t.blotName;typeof n=="string"?this.register("formats/"+n,t,r):Object.keys(t).forEach(s=>{this.register(s,t[s],r)})}else this.imports[t]!=null&&!i&&Ae.warn(`Overwriting ${t} with`,r),this.imports[t]=r,(t.startsWith("blots/")||t.startsWith("formats/"))&&r.blotName!=="abstract"?b.register(r):t.startsWith("modules")&&typeof r.register=="function"&&r.register()}constructor(t,r={}){if(this.options=Ka(t,r),this.container=this.options.container,this.container==null)return Ae.error("Invalid Quill container",t);this.options.debug&&A.debug(this.options.debug);let i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new N,this.scroll=b.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new $a(this.scroll),this.selection=new za(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(N.events.EDITOR_CHANGE,s=>{s===N.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(N.events.SCROLL_UPDATE,(s,o)=>{let l=this.selection.lastRange,a=l&&l.length===0?l.index:void 0;V.call(this,()=>this.editor.update(null,o,a),s)});let n=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">${i}<p><br></p></div>`);this.setContents(n),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}addContainer(t,r=null){if(typeof t=="string"){let i=t;t=document.createElement("div"),t.classList.add(i)}return this.container.insertBefore(t,r),t}blur(){this.selection.setRange(null)}deleteText(t,r,i){return[t,r,,i]=Q(t,r,i),V.call(this,()=>this.editor.deleteText(t,r),i,t,-1*r)}disable(){this.enable(!1)}enable(t=!0){this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}format(t,r,i=N.sources.API){return V.call(this,()=>{let n=this.getSelection(!0),s=new w;if(n==null)return s;if(b.query(t,b.Scope.BLOCK))s=this.editor.formatLine(n.index,n.length,{[t]:r});else{if(n.length===0)return this.selection.format(t,r),s;s=this.editor.formatText(n.index,n.length,{[t]:r})}return this.setSelection(n,N.sources.SILENT),s},i)}formatLine(t,r,i,n,s){let o;return[t,r,o,s]=Q(t,r,i,n,s),V.call(this,()=>this.editor.formatLine(t,r,o),s,t,0)}formatText(t,r,i,n,s){let o;return[t,r,o,s]=Q(t,r,i,n,s),V.call(this,()=>this.editor.formatText(t,r,o),s,t,0)}getBounds(t,r=0){let i;typeof t=="number"?i=this.selection.getBounds(t,r):i=this.selection.getBounds(t.index,t.length);let n=this.container.getBoundingClientRect();return{bottom:i.bottom-n.top,height:i.height,left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,width:i.width}}getContents(t=0,r=this.getLength()-t){return[t,r]=Q(t,r),this.editor.getContents(t,r)}getFormat(t=this.getSelection(!0),r=0){return typeof t=="number"?this.editor.getFormat(t,r):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(t=0,r=Number.MAX_VALUE){return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,r)}getModule(t){return this.theme.modules[t]}getSelection(t=!1){return t&&this.focus(),this.update(),this.selection.getRange()[0]}getText(t=0,r=this.getLength()-t){return[t,r]=Q(t,r),this.editor.getText(t,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,r,i,n=A.sources.API){return V.call(this,()=>this.editor.insertEmbed(t,r,i),n,t)}insertText(t,r,i,n,s){let o;return[t,,o,s]=Q(t,0,i,n,s),V.call(this,()=>this.editor.insertText(t,r,o),s,t,r.length)}isEnabled(){return!this.container.classList.contains("ql-disabled")}off(){return this.emitter.off.apply(this.emitter,arguments)}on(){return this.emitter.on.apply(this.emitter,arguments)}once(){return this.emitter.once.apply(this.emitter,arguments)}pasteHTML(t,r,i){this.clipboard.dangerouslyPasteHTML(t,r,i)}removeFormat(t,r,i){return[t,r,,i]=Q(t,r,i),V.call(this,()=>this.editor.removeFormat(t,r),i,t)}scrollIntoView(){this.selection.scrollIntoView(this.scrollingContainer)}setContents(t,r=N.sources.API){return V.call(this,()=>{t=new w(t);let i=this.getLength(),n=this.editor.deleteText(0,i),s=this.editor.applyDelta(t),o=s.ops[s.ops.length-1];return o!=null&&typeof o.insert=="string"&&o.insert[o.insert.length-1]===`
`&&(this.editor.deleteText(this.getLength()-1,1),s.delete(1)),n.compose(s)},r)}setSelection(t,r,i){t==null?this.selection.setRange(null,r||A.sources.API):([t,r,,i]=Q(t,r,i),this.selection.setRange(new Pt(t,r),i),i!==N.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer))}setText(t,r=N.sources.API){let i=new w().insert(t);return this.setContents(i,r)}update(t=N.sources.USER){let r=this.scroll.update(t);return this.selection.update(t),r}updateContents(t,r=N.sources.API){return V.call(this,()=>(t=new w(t),this.editor.applyDelta(t,r)),r,!0)}}A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"};A.events=N.events;A.sources=N.sources;A.version=typeof QUILL_VERSION>"u"?"dev":QUILL_VERSION;A.imports={delta:w,parchment:b,"core/module":ft,"core/theme":At};function Ka(e,t){if(t=U(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t),!t.theme||t.theme===A.DEFAULTS.theme)t.theme=At;else if(t.theme=A.import(`themes/${t.theme}`),t.theme==null)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);let r=U(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(s){s.modules=s.modules||{},Object.keys(s.modules).forEach(function(o){s.modules[o]===!0&&(s.modules[o]={})})});let n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(s,o){let l=A.import(`modules/${o}`);return l==null?Ae.error(`Cannot load ${o} module. Are you sure you registered it?`):s[o]=l.DEFAULTS||{},s},{});return t.modules!=null&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=U(!0,{},A.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach(function(s){typeof t[s]=="string"&&(t[s]=document.querySelector(t[s]))}),t.modules=Object.keys(t.modules).reduce(function(s,o){return t.modules[o]&&(s[o]=t.modules[o]),s},{}),t}function V(e,t,r,i){if(this.options.strict&&!this.isEnabled()&&t===N.sources.USER)return new w;let n=r==null?null:this.getSelection(),s=this.editor.delta,o=e();if(n!=null&&(r===!0&&(r=n.index),i==null?n=nn(n,o,t):i!==0&&(n=nn(n,r,i,t)),this.setSelection(n,N.sources.SILENT)),o.length()>0){let l=[N.events.TEXT_CHANGE,o,s,t];this.emitter.emit(N.events.EDITOR_CHANGE,...l),t!==N.sources.SILENT&&this.emitter.emit(...l)}return o}function Q(e,t,r,i,n){let s={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(n=i,i=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(n=i,i=r,r=t,t=0),typeof r=="object"?(s=r,n=i):typeof r=="string"&&(i!=null?s[r]=i:n=r),n=n||N.sources.API,[e,t,s,n]}function nn(e,t,r,i){if(e==null)return null;let n,s;return t instanceof w?[n,s]=[e.index,e.index+e.length].map(function(o){return t.transformPosition(o,i!==N.sources.USER)}):[n,s]=[e.index,e.index+e.length].map(function(o){return o<t||o===t&&i===N.sources.USER?o:r>=0?o+r:Math.max(t,o+r)}),new Pt(n,s-n)}class Zt extends b.Container{}Zt.allowedChildren=[D,it,Zt];const ge="\uFEFF";class ss extends b.Embed{constructor(t){super(t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable",!1),[].slice.call(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(ge),this.rightGuard=document.createTextNode(ge),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,r){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,r)}restore(t){let r,i,n=t.data.split(ge).join("");if(t===this.leftGuard)if(this.prev instanceof Z){let s=this.prev.length();this.prev.insertAt(s,n),r={startNode:this.prev.domNode,startOffset:s+n.length}}else i=document.createTextNode(n),this.parent.insertBefore(b.create(i),this),r={startNode:i,startOffset:n.length};else t===this.rightGuard&&(this.next instanceof Z?(this.next.insertAt(0,n),r={startNode:this.next.domNode,startOffset:n.length}):(i=document.createTextNode(n),this.parent.insertBefore(b.create(i),this.next),r={startNode:i,startOffset:n.length}));return t.data=ge,r}update(t,r){t.forEach(i=>{if(i.type==="characterData"&&(i.target===this.leftGuard||i.target===this.rightGuard)){let n=this.restore(i.target);n&&(r.range=n)}})}}function sn(e){return e instanceof D||e instanceof it}class xt extends b.Scroll{constructor(t,r){super(t),this.emitter=r.emitter,Array.isArray(r.whitelist)&&(this.whitelist=r.whitelist.reduce(function(i,n){return i[n]=!0,i},{})),this.domNode.addEventListener("DOMNodeInserted",function(){}),this.optimize(),this.enable()}batchStart(){this.batch=!0}batchEnd(){this.batch=!1,this.optimize()}deleteAt(t,r){let[i,n]=this.line(t),[s]=this.line(t+r);if(super.deleteAt(t,r),s!=null&&i!==s&&n>0){if(i instanceof it||s instanceof it){this.optimize();return}if(i instanceof K){let l=i.newlineIndex(i.length(),!0);if(l>-1&&(i=i.split(l+1),i===s)){this.optimize();return}}else if(s instanceof K){let l=s.newlineIndex(0);l>-1&&s.split(l+1)}let o=s.children.head instanceof Nt?null:s.children.head;i.moveChildren(s,o),i.remove()}this.optimize()}enable(t=!0){this.domNode.setAttribute("contenteditable",t)}formatAt(t,r,i,n){this.whitelist!=null&&!this.whitelist[i]||(super.formatAt(t,r,i,n),this.optimize())}insertAt(t,r,i){if(!(i!=null&&this.whitelist!=null&&!this.whitelist[r])){if(t>=this.length())if(i==null||b.query(r,b.Scope.BLOCK)==null){let n=b.create(this.statics.defaultChild);this.appendChild(n),i==null&&r.endsWith(`
`)&&(r=r.slice(0,-1)),n.insertAt(0,r,i)}else{let n=b.create(r,i);this.appendChild(n)}else super.insertAt(t,r,i);this.optimize()}}insertBefore(t,r){if(t.statics.scope===b.Scope.INLINE_BLOT){let i=b.create(this.statics.defaultChild);i.appendChild(t),t=i}super.insertBefore(t,r)}leaf(t){return this.path(t).pop()||[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(sn,t)}lines(t=0,r=Number.MAX_VALUE){let i=(n,s,o)=>{let l=[],a=o;return n.children.forEachAt(s,o,function(f,h,u){sn(f)?l.push(f):f instanceof b.Container&&(l=l.concat(i(f,h,a))),a-=u}),l};return i(this,t,r)}optimize(t=[],r={}){this.batch!==!0&&(super.optimize(t,r),t.length>0&&this.emitter.emit(N.events.SCROLL_OPTIMIZE,t,r))}path(t){return super.path(t).slice(1)}update(t){if(this.batch===!0)return;let r=N.sources.USER;typeof t=="string"&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(N.events.SCROLL_BEFORE_UPDATE,r,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(N.events.SCROLL_UPDATE,r,t)}}xt.blotName="scroll";xt.className="ql-editor";xt.tagName="DIV";xt.defaultChild="block";xt.allowedChildren=[D,it,Zt];let Yr={scope:b.Scope.BLOCK,whitelist:["right","center","justify"]},Ha=new b.Attributor.Attribute("align","align",Yr),os=new b.Attributor.Class("align","ql-align",Yr),ls=new b.Attributor.Style("align","text-align",Yr);class as extends b.Attributor.Style{value(t){let r=super.value(t);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(i){return("00"+parseInt(i).toString(16)).slice(-2)}).join("")):r}}let Wa=new b.Attributor.Class("color","ql-color",{scope:b.Scope.INLINE}),Xr=new as("color","color",{scope:b.Scope.INLINE}),Ga=new b.Attributor.Class("background","ql-bg",{scope:b.Scope.INLINE}),Jr=new as("background","background-color",{scope:b.Scope.INLINE}),Zr={scope:b.Scope.BLOCK,whitelist:["rtl"]},us=new b.Attributor.Attribute("direction","dir",Zr),cs=new b.Attributor.Class("direction","ql-direction",Zr),fs=new b.Attributor.Style("direction","direction",Zr),hs={scope:b.Scope.INLINE,whitelist:["serif","monospace"]},ds=new b.Attributor.Class("font","ql-font",hs);class Va extends b.Attributor.Style{value(t){return super.value(t).replace(/["']/g,"")}}let ps=new Va("font","font-family",hs),ys=new b.Attributor.Class("size","ql-size",{scope:b.Scope.INLINE,whitelist:["small","large","huge"]}),gs=new b.Attributor.Style("size","font-size",{scope:b.Scope.INLINE,whitelist:["10px","18px","32px"]}),Ya=ct("quill:clipboard");const Se="__ql-matcher",Xa=[[Node.TEXT_NODE,nu],[Node.TEXT_NODE,ln],["br",tu],[Node.ELEMENT_NODE,ln],[Node.ELEMENT_NODE,Qa],[Node.ELEMENT_NODE,bs],[Node.ELEMENT_NODE,Za],[Node.ELEMENT_NODE,iu],["li",ru],["b",me.bind(me,"bold")],["i",me.bind(me,"italic")],["style",eu]],Ja=[Ha,us].reduce(function(e,t){return e[t.keyName]=t,e},{}),on=[ls,Jr,Xr,fs,ps,gs].reduce(function(e,t){return e[t.keyName]=t,e},{});class ms extends ft{constructor(t,r){super(t,r),this.quill.root.addEventListener("paste",this.onPaste.bind(this)),this.container=this.quill.addContainer("ql-clipboard"),this.container.setAttribute("contenteditable",!0),this.container.setAttribute("tabindex",-1),this.matchers=[],Xa.concat(this.options.matchers).forEach(([i,n])=>{!r.matchVisual&&n===bs||this.addMatcher(i,n)})}addMatcher(t,r){this.matchers.push([t,r])}convert(t){if(typeof t=="string")return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();const r=this.quill.getFormat(this.quill.selection.savedRange.index);if(r[K.blotName]){const o=this.container.innerText;return this.container.innerHTML="",new w().insert(o,{[K.blotName]:r[K.blotName]})}let[i,n]=this.prepareMatching(),s=vs(this.container,i,n);return se(s,`
`)&&s.ops[s.ops.length-1].attributes==null&&(s=s.compose(new w().retain(s.length()-1).delete(1))),Ya.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}dangerouslyPasteHTML(t,r,i=A.sources.API){if(typeof t=="string")this.quill.setContents(this.convert(t),r),this.quill.setSelection(0,A.sources.SILENT);else{let n=this.convert(r);this.quill.updateContents(new w().retain(t).concat(n),i),this.quill.setSelection(t+n.length(),A.sources.SILENT)}}onPaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;let r=this.quill.getSelection(),i=new w().retain(r.index),n=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(A.sources.SILENT),setTimeout(()=>{i=i.concat(this.convert()).delete(r.length),this.quill.updateContents(i,A.sources.USER),this.quill.setSelection(i.length()-r.length,A.sources.SILENT),this.quill.scrollingContainer.scrollTop=n,this.quill.focus()},1)}prepareMatching(){let t=[],r=[];return this.matchers.forEach(i=>{let[n,s]=i;switch(n){case Node.TEXT_NODE:r.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(this.container.querySelectorAll(n),o=>{o[Se]=o[Se]||[],o[Se].push(s)});break}}),[t,r]}}ms.DEFAULTS={matchers:[],matchVisual:!0};function ne(e,t,r){return typeof t=="object"?Object.keys(t).reduce(function(i,n){return ne(i,n,t[n])},e):e.reduce(function(i,n){return n.attributes&&n.attributes[t]?i.push(n):i.insert(n.insert,U({},{[t]:r},n.attributes))},new w)}function mt(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};const t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function se(e,t){let r="";for(let i=e.ops.length-1;i>=0&&r.length<t.length;--i){let n=e.ops[i];if(typeof n.insert!="string")break;r=n.insert+r}return r.slice(-1*t.length)===t}function dt(e){if(e.childNodes.length===0)return!1;let t=mt(e);return["block","list-item"].indexOf(t.display)>-1}function vs(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(i,n){return n(e,i)},new w):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(i,n)=>{let s=vs(n,t,r);return n.nodeType===e.ELEMENT_NODE&&(s=t.reduce(function(o,l){return l(n,o)},s),s=(n[Se]||[]).reduce(function(o,l){return l(n,o)},s)),i.concat(s)},new w):new w}function me(e,t,r){return ne(r,e,!0)}function Za(e,t){let r=b.Attributor.Attribute.keys(e),i=b.Attributor.Class.keys(e),n=b.Attributor.Style.keys(e),s={};return r.concat(i).concat(n).forEach(o=>{let l=b.query(o,b.Scope.ATTRIBUTE);l!=null&&(s[l.attrName]=l.value(e),s[l.attrName])||(l=Ja[o],l!=null&&(l.attrName===o||l.keyName===o)&&(s[l.attrName]=l.value(e)||void 0),l=on[o],l!=null&&(l.attrName===o||l.keyName===o)&&(l=on[o],s[l.attrName]=l.value(e)||void 0))}),Object.keys(s).length>0&&(t=ne(t,s)),t}function Qa(e,t){let r=b.query(e);if(r==null)return t;if(r.prototype instanceof b.Embed){let i={},n=r.value(e);n!=null&&(i[r.blotName]=n,t=new w().insert(i,r.formats(e)))}else typeof r.formats=="function"&&(t=ne(t,r.blotName,r.formats(e)));return t}function tu(e,t){return se(t,`
`)||t.insert(`
`),t}function eu(){return new w}function ru(e,t){let r=b.query(e);if(r==null||r.blotName!=="list-item"||!se(t,`
`))return t;let i=-1,n=e.parentNode;for(;!n.classList.contains("ql-clipboard");)(b.query(n)||{}).blotName==="list"&&(i+=1),n=n.parentNode;return i<=0?t:t.compose(new w().retain(t.length()-1).retain(1,{indent:i}))}function ln(e,t){return se(t,`
`)||(dt(e)||t.length()>0&&e.nextSibling&&dt(e.nextSibling))&&t.insert(`
`),t}function bs(e,t){if(dt(e)&&e.nextElementSibling!=null&&!se(t,`

`)){let r=e.offsetHeight+parseFloat(mt(e).marginTop)+parseFloat(mt(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+r*1.5&&t.insert(`
`)}return t}function iu(e,t){let r={},i=e.style||{};return i.fontStyle&&mt(e).fontStyle==="italic"&&(r.italic=!0),i.fontWeight&&(mt(e).fontWeight.startsWith("bold")||parseInt(mt(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=ne(t,r)),parseFloat(i.textIndent||0)>0&&(t=new w().insert("	").concat(t)),t}function nu(e,t){let r=e.data;if(e.parentNode.tagName==="O:P")return t.insert(r.trim());if(r.trim().length===0&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!mt(e.parentNode).whiteSpace.startsWith("pre")){let i=function(n,s){return s=s.replace(/[^\u00a0]/g,""),s.length<1&&n?" ":s};r=r.replace(/\r\n/g," ").replace(/\n/g," "),r=r.replace(/\s\s+/g,i.bind(i,!0)),(e.previousSibling==null&&dt(e.parentNode)||e.previousSibling!=null&&dt(e.previousSibling))&&(r=r.replace(/^\s+/,i.bind(i,!1))),(e.nextSibling==null&&dt(e.parentNode)||e.nextSibling!=null&&dt(e.nextSibling))&&(r=r.replace(/\s+$/,i.bind(i,!1)))}return t.insert(r)}class _s extends ft{constructor(t,r){super(t,r),this.lastRecorded=0,this.ignoreChange=!1,this.clear(),this.quill.on(A.events.EDITOR_CHANGE,(i,n,s,o)=>{i!==A.events.TEXT_CHANGE||this.ignoreChange||(!this.options.userOnly||o===A.sources.USER?this.record(n,s):this.transform(n))}),this.quill.keyboard.addBinding({key:"Z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"Y",shortKey:!0},this.redo.bind(this))}change(t,r){if(this.stack[t].length===0)return;let i=this.stack[t].pop();this.stack[r].push(i),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i[t],A.sources.USER),this.ignoreChange=!1;let n=ou(i[t]);this.quill.setSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=this.quill.getContents().diff(r),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){let s=this.stack.undo.pop();i=i.compose(s.undo),t=s.redo.compose(t)}else this.lastRecorded=n;this.stack.undo.push({redo:t,undo:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}redo(){this.change("redo","undo")}transform(t){this.stack.undo.forEach(function(r){r.undo=t.transform(r.undo,!0),r.redo=t.transform(r.redo,!0)}),this.stack.redo.forEach(function(r){r.undo=t.transform(r.undo,!0),r.redo=t.transform(r.redo,!0)})}undo(){this.change("undo","redo")}}_s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function su(e){let t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(function(r){return b.query(r,b.Scope.BLOCK)!=null}):!1}function ou(e){let t=e.reduce(function(i,n){return i+=n.delete||0,i},0),r=e.length()-t;return su(e)&&(r-=1),r}let lu=ct("quill:keyboard");const au=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class T extends ft{static match(t,r){return r=vr(r),["altKey","ctrlKey","metaKey","shiftKey"].some(function(i){return!!r[i]!==t[i]&&r[i]!==null})?!1:r.key===(t.which||t.keyCode)}constructor(t,r){super(t,r),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{i==="list autofill"&&t.scroll.whitelist!=null&&!t.scroll.whitelist.list||this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:T.keys.ENTER,shiftKey:null},uu),this.addBinding({key:T.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:T.keys.BACKSPACE},{collapsed:!0},nr),this.addBinding({key:T.keys.DELETE},{collapsed:!0},an)):(this.addBinding({key:T.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},nr),this.addBinding({key:T.keys.DELETE},{collapsed:!0,suffix:/^.?$/},an)),this.addBinding({key:T.keys.BACKSPACE},{collapsed:!1},un),this.addBinding({key:T.keys.DELETE},{collapsed:!1},un),this.addBinding({key:T.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},nr),this.listen()}addBinding(t,r={},i={}){let n=vr(t);if(n==null||n.key==null)return lu.warn("Attempted to add invalid keyboard binding",n);typeof r=="function"&&(r={handler:r}),typeof i=="function"&&(i={handler:i}),n=U(n,r,i),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented)return;let r=t.which||t.keyCode,i=(this.bindings[r]||[]).filter(function(v){return T.match(t,v)});if(i.length===0)return;let n=this.quill.getSelection();if(n==null||!this.quill.hasFocus())return;let[s,o]=this.quill.getLine(n.index),[l,a]=this.quill.getLeaf(n.index),[f,h]=n.length===0?[l,a]:this.quill.getLeaf(n.index+n.length),u=l instanceof b.Text?l.value().slice(0,a):"",c=f instanceof b.Text?f.value().slice(h):"",d={collapsed:n.length===0,empty:n.length===0&&s.length()<=1,format:this.quill.getFormat(n),offset:o,prefix:u,suffix:c};i.some(v=>{if(v.collapsed!=null&&v.collapsed!==d.collapsed||v.empty!=null&&v.empty!==d.empty||v.offset!=null&&v.offset!==d.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(function(y){return d.format[y]==null}))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(function(y){return v.format[y]===!0?d.format[y]!=null:v.format[y]===!1?d.format[y]==null:Kr(v.format[y],d.format[y])}))return!1;return v.prefix!=null&&!v.prefix.test(d.prefix)||v.suffix!=null&&!v.suffix.test(d.suffix)?!1:v.handler.call(this,n,d)!==!0})&&t.preventDefault()})}}T.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};T.DEFAULTS={bindings:{bold:sr("bold"),italic:sr("italic"),underline:sr("underline"),indent:{key:T.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&t.offset!==0)return!0;this.quill.format("indent","+1",A.sources.USER)}},outdent:{key:T.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&t.offset!==0)return!0;this.quill.format("indent","-1",A.sources.USER)}},"outdent backspace":{key:T.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){t.format.indent!=null?this.quill.format("indent","-1",A.sources.USER):t.format.list!=null&&this.quill.format("list",!1,A.sources.USER)}},"indent code-block":cn(!0),"outdent code-block":cn(!1),"remove tab":{key:T.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,A.sources.USER)}},tab:{key:T.keys.TAB,handler:function(e){this.quill.history.cutoff();let t=new w().retain(e.index).delete(e.length).insert("	");this.quill.updateContents(t,A.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,A.sources.SILENT)}},"list empty enter":{key:T.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,A.sources.USER),t.format.indent&&this.quill.format("indent",!1,A.sources.USER)}},"checklist enter":{key:T.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){let[t,r]=this.quill.getLine(e.index),i=U({},t.formats(),{list:"checked"}),n=new w().retain(e.index).insert(`
`,i).retain(t.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(n,A.sources.USER),this.quill.setSelection(e.index+1,A.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:T.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){let[r,i]=this.quill.getLine(e.index),n=new w().retain(e.index).insert(`
`,t.format).retain(r.length()-i-1).retain(1,{header:null});this.quill.updateContents(n,A.sources.USER),this.quill.setSelection(e.index+1,A.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){let r=t.prefix.length,[i,n]=this.quill.getLine(e.index);if(n>r)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",A.sources.USER),this.quill.history.cutoff();let o=new w().retain(e.index-n).delete(r+1).retain(i.length()-2-n).retain(1,{list:s});this.quill.updateContents(o,A.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,A.sources.SILENT)}},"code exit":{key:T.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){const[t,r]=this.quill.getLine(e.index),i=new w().retain(e.index+t.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,A.sources.USER)}},"embed left":ve(T.keys.LEFT,!1),"embed left shift":ve(T.keys.LEFT,!0),"embed right":ve(T.keys.RIGHT,!1),"embed right shift":ve(T.keys.RIGHT,!0)}};function ve(e,t){const r=e===T.keys.LEFT?"prefix":"suffix";return{key:e,shiftKey:t,altKey:null,[r]:/^$/,handler:function(i){let n=i.index;e===T.keys.RIGHT&&(n+=i.length+1);const[s]=this.quill.getLeaf(n);return s instanceof b.Embed?(e===T.keys.LEFT?t?this.quill.setSelection(i.index-1,i.length+1,A.sources.USER):this.quill.setSelection(i.index-1,A.sources.USER):t?this.quill.setSelection(i.index,i.length+1,A.sources.USER):this.quill.setSelection(i.index+i.length+1,A.sources.USER),!1):!0}}}function nr(e,t){if(e.index===0||this.quill.getLength()<=1)return;let[r]=this.quill.getLine(e.index),i={};if(t.offset===0){let[s]=this.quill.getLine(e.index-1);if(s!=null&&s.length()>1){let o=r.formats(),l=this.quill.getFormat(e.index-1,1);i=Pe.attributes.diff(o,l)||{}}}let n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-n,n,A.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-n,n,i,A.sources.USER),this.quill.focus()}function an(e,t){let r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={},n=0,[s]=this.quill.getLine(e.index);if(t.offset>=s.length()-1){let[o]=this.quill.getLine(e.index+1);if(o){let l=s.formats(),a=this.quill.getFormat(e.index,1);i=Pe.attributes.diff(l,a)||{},n=o.length()}}this.quill.deleteText(e.index,r,A.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+n-1,r,i,A.sources.USER)}function un(e){let t=this.quill.getLines(e),r={};if(t.length>1){let i=t[0].formats(),n=t[t.length-1].formats();r=Pe.attributes.diff(n,i)||{}}this.quill.deleteText(e,A.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,A.sources.USER),this.quill.setSelection(e.index,A.sources.SILENT),this.quill.focus()}function uu(e,t){e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);let r=Object.keys(t.format).reduce(function(i,n){return b.query(n,b.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(i[n]=t.format[n]),i},{});this.quill.insertText(e.index,`
`,r,A.sources.USER),this.quill.setSelection(e.index+1,A.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(i=>{r[i]==null&&(Array.isArray(t.format[i])||i!=="link"&&this.quill.format(i,t.format[i],A.sources.USER))})}function cn(e){return{key:T.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){let r=b.query("code-block"),i=t.index,n=t.length,[s,o]=this.quill.scroll.descendant(r,i);if(s==null)return;let l=this.quill.getIndex(s),a=s.newlineIndex(o,!0)+1,f=s.newlineIndex(l+o+n),h=s.domNode.textContent.slice(a,f).split(`
`);o=0,h.forEach((u,c)=>{e?(s.insertAt(a+o,r.TAB),o+=r.TAB.length,c===0?i+=r.TAB.length:n+=r.TAB.length):u.startsWith(r.TAB)&&(s.deleteAt(a+o,r.TAB.length),o-=r.TAB.length,c===0?i-=r.TAB.length:n-=r.TAB.length),o+=u.length+1}),this.quill.update(A.sources.USER),this.quill.setSelection(i,n,A.sources.SILENT)}}}function sr(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],A.sources.USER)}}}function vr(e){if(typeof e=="string"||typeof e=="number")return vr({key:e});if(typeof e=="object"&&(e=rt(e,!1)),typeof e.key=="string")if(T.keys[e.key.toUpperCase()]!=null)e.key=T.keys[e.key.toUpperCase()];else if(e.key.length===1)e.key=e.key.toUpperCase().charCodeAt(0);else return null;return e.shortKey&&(e[au]=e.shortKey,delete e.shortKey),e}A.register({"blots/block":D,"blots/block/embed":it,"blots/break":Nt,"blots/container":Zt,"blots/cursor":F,"blots/embed":ss,"blots/inline":j,"blots/scroll":xt,"blots/text":Z,"modules/clipboard":ms,"modules/history":_s,"modules/keyboard":T});b.register(D,Nt,F,j,xt,Z);class cu extends b.Attributor.Class{add(t,r){if(r==="+1"||r==="-1"){let i=this.value(t)||0;r=r==="+1"?i+1:i-1}return r===0?(this.remove(t),!0):super.add(t,r)}canAdd(t,r){return super.canAdd(t,r)||super.canAdd(t,parseInt(r))}value(t){return parseInt(super.value(t))||void 0}}let fu=new cu("indent","ql-indent",{scope:b.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Qr extends D{}Qr.blotName="blockquote";Qr.tagName="blockquote";class ti extends D{static formats(t){return this.tagName.indexOf(t.tagName)+1}}ti.blotName="header";ti.tagName=["H1","H2","H3","H4","H5","H6"];class oe extends D{static formats(t){return t.tagName===this.tagName?void 0:super.formats(t)}format(t,r){t===Ot.blotName&&!r?this.replaceWith(b.create(this.statics.scope)):super.format(t,r)}remove(){this.prev==null&&this.next==null?this.parent.remove():super.remove()}replaceWith(t,r){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,r),this):(this.parent.unwrap(),super.replaceWith(t,r))}}oe.blotName="list-item";oe.tagName="LI";class Ot extends Zt{static create(t){let r=t==="ordered"?"OL":"UL",i=super.create(r);return(t==="checked"||t==="unchecked")&&i.setAttribute("data-checked",t==="checked"),i}static formats(t){if(t.tagName==="OL")return"ordered";if(t.tagName==="UL")return t.hasAttribute("data-checked")?t.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}constructor(t){super(t);const r=i=>{if(i.target.parentNode!==t)return;let n=this.statics.formats(t),s=b.find(i.target);n==="checked"?s.format("list","unchecked"):n==="unchecked"&&s.format("list","checked")};t.addEventListener("touchstart",r),t.addEventListener("mousedown",r)}format(t,r){this.children.length>0&&this.children.tail.format(t,r)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(t,r){if(t instanceof oe)super.insertBefore(t,r);else{let i=r==null?this.length():r.offset(this),n=this.split(i);n.parent.insertBefore(t,n)}}optimize(t){super.optimize(t);let r=this.next;r!=null&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}replace(t){if(t.statics.blotName!==this.statics.blotName){let r=b.create(this.statics.defaultChild);t.moveChildren(r),this.appendChild(r)}super.replace(t)}}Ot.blotName="list";Ot.scope=b.Scope.BLOCK_BLOT;Ot.tagName=["OL","UL"];Ot.defaultChild="list-item";Ot.allowedChildren=[oe];class qe extends j{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}qe.blotName="bold";qe.tagName=["STRONG","B"];class ei extends qe{}ei.blotName="italic";ei.tagName=["EM","I"];class nt extends j{static create(t){let r=super.create(t);return t=this.sanitize(t),r.setAttribute("href",t),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(t){return t.getAttribute("href")}static sanitize(t){return Es(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,r){if(t!==this.statics.blotName||!r)return super.format(t,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}nt.blotName="link";nt.tagName="A";nt.SANITIZED_URL="about:blank";nt.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function Es(e,t){let r=document.createElement("a");r.href=e;let i=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(i)>-1}class ri extends j{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}ri.blotName="script";ri.tagName=["SUB","SUP"];class ii extends j{}ii.blotName="strike";ii.tagName="S";class ni extends j{}ni.blotName="underline";ni.tagName="U";const fn=["alt","height","width"];class si extends b.Embed{static create(t){let r=super.create(t);return typeof t=="string"&&r.setAttribute("src",this.sanitize(t)),r}static formats(t){return fn.reduce(function(r,i){return t.hasAttribute(i)&&(r[i]=t.getAttribute(i)),r},{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Es(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,r){fn.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}si.blotName="image";si.tagName="IMG";const hn=["height","width"];class Re extends it{static create(t){let r=super.create(t);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(t)),r}static formats(t){return hn.reduce(function(r,i){return t.hasAttribute(i)&&(r[i]=t.getAttribute(i)),r},{})}static sanitize(t){return nt.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,r){hn.indexOf(t)>-1?r?this.domNode.setAttribute(t,r):this.domNode.removeAttribute(t):super.format(t,r)}}Re.blotName="video";Re.className="ql-video";Re.tagName="IFRAME";class je extends ss{static create(t){let r=super.create(t);return typeof t=="string"&&(window.katex.render(t,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",t)),r}static value(t){return t.getAttribute("data-value")}}je.blotName="formula";je.className="ql-formula";je.tagName="SPAN";class hu extends ft{static register(){A.register(je,!0)}constructor(){if(super(),window.katex==null)throw new Error("Formula module requires KaTeX.")}}class br extends K{replaceWith(t){this.domNode.textContent=this.domNode.textContent,this.attach(),super.replaceWith(t)}highlight(t){let r=this.domNode.textContent;this.cachedText!==r&&((r.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=t(r),this.domNode.normalize(),this.attach()),this.cachedText=r)}}br.className="ql-syntax";let du=new b.Attributor.Class("token","hljs",{scope:b.Scope.INLINE});class As extends ft{static register(){A.register(du,!0),A.register(br,!0)}constructor(t,r){if(super(t,r),typeof this.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");let i=null;this.quill.on(A.events.SCROLL_OPTIMIZE,()=>{clearTimeout(i),i=setTimeout(()=>{this.highlight(),i=null},this.options.interval)}),this.highlight()}highlight(){if(this.quill.selection.composing)return;this.quill.update(A.sources.USER);let t=this.quill.getSelection();this.quill.scroll.descendants(br).forEach(r=>{r.highlight(this.options.highlight)}),this.quill.update(A.sources.SILENT),t!=null&&this.quill.setSelection(t,A.sources.SILENT)}}As.DEFAULTS={highlight:function(){return window.hljs==null?null:function(e){return window.hljs.highlightAuto(e).value}}(),interval:1e3};let or=ct("quill:toolbar");class oi extends ft{constructor(t,r){if(super(t,r),Array.isArray(this.options.container)){let i=document.createElement("div");pu(i,this.options.container),t.container.parentNode.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement))return or.error("Container required for toolbar",this.options);this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},Object.keys(this.options.handlers).forEach(i=>{this.addHandler(i,this.options.handlers[i])}),[].forEach.call(this.container.querySelectorAll("button, select"),i=>{this.attach(i)}),this.quill.on(A.events.EDITOR_CHANGE,(i,n)=>{i===A.events.SELECTION_CHANGE&&this.update(n)}),this.quill.on(A.events.SCROLL_OPTIMIZE,()=>{let[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,r){this.handlers[t]=r}attach(t){let r=[].find.call(t.classList,n=>n.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[r]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[r]==null){or.warn("ignoring attaching to disabled format",r,t);return}if(b.query(r)==null){or.warn("ignoring attaching to nonexistent format",r,t);return}}let i=t.tagName==="SELECT"?"change":"click";t.addEventListener(i,n=>{let s;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;let l=t.options[t.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else t.classList.contains("ql-active")?s=!1:s=t.value||!t.hasAttribute("value"),n.preventDefault();this.quill.focus();let[o]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,s);else if(b.query(r).prototype instanceof b.Embed){if(s=prompt(`Enter ${r}`),!s)return;this.quill.updateContents(new w().retain(o.index).delete(o.length).insert({[r]:s}),A.sources.USER)}else this.quill.format(r,s,A.sources.USER);this.update(o)}),this.controls.push([r,t])}update(t){let r=t==null?{}:this.quill.getFormat(t);this.controls.forEach(function(i){let[n,s]=i;if(s.tagName==="SELECT"){let o;if(t==null)o=null;else if(r[n]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(r[n])){let l=r[n];typeof l=="string"&&(l=l.replace(/\"/g,'\\"')),o=s.querySelector(`option[value="${l}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(t==null)s.classList.remove("ql-active");else if(s.hasAttribute("value")){let o=r[n]===s.getAttribute("value")||r[n]!=null&&r[n].toString()===s.getAttribute("value")||r[n]==null&&!s.getAttribute("value");s.classList.toggle("ql-active",o)}else s.classList.toggle("ql-active",r[n]!=null)})}}oi.DEFAULTS={};function dn(e,t,r){let i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),r!=null&&(i.value=r),e.appendChild(i)}function pu(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(r){let i=document.createElement("span");i.classList.add("ql-formats"),r.forEach(function(n){if(typeof n=="string")dn(i,n);else{let s=Object.keys(n)[0],o=n[s];Array.isArray(o)?yu(i,s,o):dn(i,s,o)}}),e.appendChild(i)})}function yu(e,t,r){let i=document.createElement("select");i.classList.add("ql-"+t),r.forEach(function(n){let s=document.createElement("option");n!==!1?s.setAttribute("value",n):s.setAttribute("selected","selected"),i.appendChild(s)}),e.appendChild(i)}oi.DEFAULTS={container:null,handlers:{clean:function(){let e=this.quill.getSelection();if(e!=null)if(e.length==0){let t=this.quill.getFormat();Object.keys(t).forEach(r=>{b.query(r,b.Scope.INLINE)!=null&&this.quill.format(r,!1)})}else this.quill.removeFormat(e,A.sources.USER)},direction:function(e){let t=this.quill.getFormat().align;e==="rtl"&&t==null?this.quill.format("align","right",A.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,A.sources.USER),this.quill.format("direction",e,A.sources.USER)},indent:function(e){let t=this.quill.getSelection(),r=this.quill.getFormat(t),i=parseInt(r.indent||0);if(e==="+1"||e==="-1"){let n=e==="+1"?1:-1;r.direction==="rtl"&&(n*=-1),this.quill.format("indent",i+n,A.sources.USER)}},link:function(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,A.sources.USER)},list:function(e){let t=this.quill.getSelection(),r=this.quill.getFormat(t);e==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,A.sources.USER):this.quill.format("list","unchecked",A.sources.USER):this.quill.format("list",e,A.sources.USER)}}};const gu="/build/assets/align-left-05a0a8ff.svg",mu=Object.freeze(Object.defineProperty({__proto__:null,default:gu},Symbol.toStringTag,{value:"Module"})),vu=C(mu),bu="/build/assets/align-center-590f51b0.svg",_u=Object.freeze(Object.defineProperty({__proto__:null,default:bu},Symbol.toStringTag,{value:"Module"})),Eu=C(_u),Au="/build/assets/align-right-89d87eef.svg",Su=Object.freeze(Object.defineProperty({__proto__:null,default:Au},Symbol.toStringTag,{value:"Module"})),Nu=C(Su),xu="/build/assets/align-justify-6964eaef.svg",Ou=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),wu=C(Ou),Tu="/build/assets/background-348f5b5b.svg",Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Tu},Symbol.toStringTag,{value:"Module"})),Cu=C(Lu),ku="/build/assets/blockquote-09d3836a.svg",Iu=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),Pu=C(Iu),qu="/build/assets/bold-5a1a03db.svg",Ru=Object.freeze(Object.defineProperty({__proto__:null,default:qu},Symbol.toStringTag,{value:"Module"})),ju=C(Ru),$u="/build/assets/clean-b98ad7f0.svg",Bu=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),Mu=C(Bu),Du="/build/assets/code-d413cee8.svg",Fu=Object.freeze(Object.defineProperty({__proto__:null,default:Du},Symbol.toStringTag,{value:"Module"})),pn=C(Fu),Uu="/build/assets/color-4f4ffae3.svg",zu=Object.freeze(Object.defineProperty({__proto__:null,default:Uu},Symbol.toStringTag,{value:"Module"})),Ku=C(zu),Hu="/build/assets/direction-ltr-8296a3bc.svg",Wu=Object.freeze(Object.defineProperty({__proto__:null,default:Hu},Symbol.toStringTag,{value:"Module"})),Gu=C(Wu),Vu="/build/assets/direction-rtl-e81747d2.svg",Yu=Object.freeze(Object.defineProperty({__proto__:null,default:Vu},Symbol.toStringTag,{value:"Module"})),Xu=C(Yu),Ju="/build/assets/float-center-1fd4429f.svg",Zu=Object.freeze(Object.defineProperty({__proto__:null,default:Ju},Symbol.toStringTag,{value:"Module"})),Qu=C(Zu),tc="/build/assets/float-full-381757da.svg",ec=Object.freeze(Object.defineProperty({__proto__:null,default:tc},Symbol.toStringTag,{value:"Module"})),rc=C(ec),ic="/build/assets/float-left-a4c0057b.svg",nc=Object.freeze(Object.defineProperty({__proto__:null,default:ic},Symbol.toStringTag,{value:"Module"})),sc=C(nc),oc="/build/assets/float-right-1e77d9c4.svg",lc=Object.freeze(Object.defineProperty({__proto__:null,default:oc},Symbol.toStringTag,{value:"Module"})),ac=C(lc),uc="/build/assets/formula-f002c21b.svg",cc=Object.freeze(Object.defineProperty({__proto__:null,default:uc},Symbol.toStringTag,{value:"Module"})),fc=C(cc),hc="/build/assets/header-56886cbe.svg",dc=Object.freeze(Object.defineProperty({__proto__:null,default:hc},Symbol.toStringTag,{value:"Module"})),pc=C(dc),yc="/build/assets/header-2-ac07724d.svg",gc=Object.freeze(Object.defineProperty({__proto__:null,default:yc},Symbol.toStringTag,{value:"Module"})),mc=C(gc),vc="/build/assets/italic-ba87e98f.svg",bc=Object.freeze(Object.defineProperty({__proto__:null,default:vc},Symbol.toStringTag,{value:"Module"})),_c=C(bc),Ec="/build/assets/image-103e3f19.svg",Ac=Object.freeze(Object.defineProperty({__proto__:null,default:Ec},Symbol.toStringTag,{value:"Module"})),Sc=C(Ac),Nc="/build/assets/indent-e44187b6.svg",xc=Object.freeze(Object.defineProperty({__proto__:null,default:Nc},Symbol.toStringTag,{value:"Module"})),Oc=C(xc),wc="/build/assets/outdent-fecfb8b0.svg",Tc=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),Lc=C(Tc),Cc="/build/assets/link-44572e51.svg",kc=Object.freeze(Object.defineProperty({__proto__:null,default:Cc},Symbol.toStringTag,{value:"Module"})),Ic=C(kc),Pc="/build/assets/list-ordered-14a18422.svg",qc=Object.freeze(Object.defineProperty({__proto__:null,default:Pc},Symbol.toStringTag,{value:"Module"})),Rc=C(qc),jc="/build/assets/list-bullet-8824b572.svg",$c=Object.freeze(Object.defineProperty({__proto__:null,default:jc},Symbol.toStringTag,{value:"Module"})),Bc=C($c),Mc="/build/assets/list-check-57ba448c.svg",Dc=Object.freeze(Object.defineProperty({__proto__:null,default:Mc},Symbol.toStringTag,{value:"Module"})),Fc=C(Dc),Uc="/build/assets/subscript-77a05888.svg",zc=Object.freeze(Object.defineProperty({__proto__:null,default:Uc},Symbol.toStringTag,{value:"Module"})),Kc=C(zc),Hc="/build/assets/superscript-e537ea2e.svg",Wc=Object.freeze(Object.defineProperty({__proto__:null,default:Hc},Symbol.toStringTag,{value:"Module"})),Gc=C(Wc),Vc="/build/assets/strike-71b73a71.svg",Yc=Object.freeze(Object.defineProperty({__proto__:null,default:Vc},Symbol.toStringTag,{value:"Module"})),Xc=C(Yc),Jc="/build/assets/underline-340e6fc1.svg",Zc=Object.freeze(Object.defineProperty({__proto__:null,default:Jc},Symbol.toStringTag,{value:"Module"})),Qc=C(Zc),tf="/build/assets/video-36f1ccc4.svg",ef=Object.freeze(Object.defineProperty({__proto__:null,default:tf},Symbol.toStringTag,{value:"Module"})),rf=C(ef);var nf={align:{"":vu,center:Eu,right:Nu,justify:wu},background:Cu,blockquote:Pu,bold:ju,clean:Mu,code:pn,"code-block":pn,color:Ku,direction:{"":Gu,rtl:Xu},float:{center:Qu,full:rc,left:sc,right:ac},formula:fc,header:{1:pc,2:mc},italic:_c,image:Sc,indent:{"+1":Oc,"-1":Lc},link:Ic,list:{ordered:Rc,bullet:Bc,check:Fc},script:{sub:Kc,super:Gc},strike:Xc,underline:Qc,video:rf};const Qt=ut(nf),sf="/build/assets/dropdown-75462ba0.svg";let yn=0;function gn(e,t){e.setAttribute(t,e.getAttribute(t)!=="true")}class $e{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.keyCode){case T.keys.ENTER:this.togglePicker();break;case T.keys.ESCAPE:this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),gn(this.label,"aria-expanded"),gn(this.options,"aria-hidden")}buildItem(t){let r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),t.hasAttribute("value")&&r.setAttribute("data-value",t.getAttribute("value")),t.textContent&&r.setAttribute("data-label",t.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",i=>{switch(i.keyCode){case T.keys.ENTER:this.selectItem(r,!0),i.preventDefault();break;case T.keys.ESCAPE:this.escape(),i.preventDefault();break}}),r}buildLabel(){let t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=sf,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){let t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${yn}`,yn+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(r=>{let i=this.buildItem(r);t.appendChild(i),r.selected===!0&&this.selectItem(i)}),this.container.appendChild(t)}buildPicker(){[].slice.call(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t,r=!1){let i=this.container.querySelector(".ql-selected");if(t!==i&&(i!=null&&i.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),r))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if(typeof Event=="object"){let n=document.createEvent("Event");n.initEvent("change",!0,!0),this.select.dispatchEvent(n)}this.close()}}update(){let t;if(this.select.selectedIndex>-1){let i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);let r=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class Ss extends $e{constructor(t,r){super(t),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),[].slice.call(this.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(i){i.classList.add("ql-primary")})}buildItem(t){let r=super.buildItem(t);return r.style.backgroundColor=t.getAttribute("value")||"",r}selectItem(t,r){super.selectItem(t,r);let i=this.label.querySelector(".ql-color-label"),n=t&&t.getAttribute("data-value")||"";i&&(i.tagName==="line"?i.style.stroke=n:i.style.fill=n)}}class Ns extends $e{constructor(t,r){super(t),this.container.classList.add("ql-icon-picker"),[].forEach.call(this.container.querySelectorAll(".ql-picker-item"),i=>{i.innerHTML=r[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,r){super.selectItem(t,r),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}class xs{constructor(t,r){this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){let r=t.left+t.width/2-this.root.offsetWidth/2,i=t.bottom+this.quill.root.scrollTop;this.root.style.left=r+"px",this.root.style.top=i+"px",this.root.classList.remove("ql-flip");let n=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect(),o=0;if(s.right>n.right&&(o=n.right-s.right,this.root.style.left=r+o+"px"),s.left<n.left&&(o=n.left-s.left,this.root.style.left=r+o+"px"),s.bottom>n.bottom){let l=s.bottom-s.top,a=t.bottom-t.top+l;this.root.style.top=i-a+"px",this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const of=[!1,"center","right","justify"],lf=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],af=[!1,"serif","monospace"],uf=["1","2","3",!1],cf=["small",!1,"large","huge"];class le extends At{constructor(t,r){super(t,r);let i=n=>{if(!document.body.contains(t.root))return document.body.removeEventListener("click",i);this.tooltip!=null&&!this.tooltip.root.contains(n.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(function(s){s.container.contains(n.target)||s.close()})};t.emitter.listenDOM("click",document.body,i)}addModule(t){let r=super.addModule(t);return t==="toolbar"&&this.extendToolbar(r),r}buildButtons(t,r){t.forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),r[s]!=null))if(s==="direction")i.innerHTML=r[s][""]+r[s].rtl;else if(typeof r[s]=="string")i.innerHTML=r[s];else{let o=i.value||"";o!=null&&r[s][o]&&(i.innerHTML=r[s][o])}})})}buildPickers(t,r){this.pickers=t.map(n=>{if(n.classList.contains("ql-align"))return n.querySelector("option")==null&&Ut(n,of),new Ns(n,r.align);if(n.classList.contains("ql-background")||n.classList.contains("ql-color")){let s=n.classList.contains("ql-background")?"background":"color";return n.querySelector("option")==null&&Ut(n,lf,s==="background"?"#ffffff":"#000000"),new Ss(n,r[s])}else return n.querySelector("option")==null&&(n.classList.contains("ql-font")?Ut(n,af):n.classList.contains("ql-header")?Ut(n,uf):n.classList.contains("ql-size")&&Ut(n,cf)),new $e(n)});let i=()=>{this.pickers.forEach(function(n){n.update()})};this.quill.on(N.events.EDITOR_CHANGE,i)}}le.DEFAULTS=U(!0,{},At.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",()=>{if(e.files!=null&&e.files[0]!=null){let t=new FileReader;t.onload=r=>{let i=this.quill.getSelection(!0);this.quill.updateContents(new w().retain(i.index).delete(i.length).insert({image:r.target.result}),N.sources.USER),this.quill.setSelection(i.index+1,N.sources.SILENT),e.value=""},t.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});class Os extends xs{constructor(t,r){super(t,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{T.match(t,"enter")?(this.save(),t.preventDefault()):T.match(t,"escape")&&(this.cancel(),t.preventDefault())})}cancel(){this.hide()}edit(t="link",r=null){this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),r!=null?this.textbox.value=r:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){let t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}save(){let t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{let r=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,N.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,N.sources.USER)),this.quill.root.scrollTop=r;break}case"video":t=ff(t);case"formula":{if(!t)break;let r=this.quill.getSelection(!0);if(r!=null){let i=r.index+r.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,N.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(i+1," ",N.sources.USER),this.quill.setSelection(i+2,N.sources.USER)}break}}this.textbox.value="",this.hide()}}function ff(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}function Ut(e,t,r=!1){t.forEach(function(i){let n=document.createElement("option");i===r?n.setAttribute("selected","selected"):n.setAttribute("value",i),e.appendChild(n)})}const hf=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ws extends le{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=hf),super(t,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Ts(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),Qt),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),Qt)}}ws.DEFAULTS=U(!0,{},le.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});class Ts extends Os{constructor(t,r){super(t,r),this.quill.on(N.events.EDITOR_CHANGE,(i,n,s,o)=>{if(i===N.events.SELECTION_CHANGE)if(n!=null&&n.length>0&&o===N.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=this.root.offsetWidth+"px";let l=this.quill.getLines(n.index,n.length);if(l.length===1)this.position(this.quill.getBounds(n));else{let a=l[l.length-1],f=this.quill.getIndex(a),h=Math.min(a.length()-1,n.index+n.length-f),u=this.quill.getBounds(new Pt(f,h));this.position(u)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(N.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;let t=this.quill.getSelection();t!=null&&this.position(this.quill.getBounds(t))},1)})}cancel(){this.show()}position(t){let r=super.position(t),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",r===0)return r;i.style.marginLeft=-1*r-i.offsetWidth/2+"px"}}Ts.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");const df=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ls extends le{constructor(t,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=df),super(t,r),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),Qt),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),Qt),this.tooltip=new Cs(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(r,i){t.handlers.link.call(t,!i.format.link)})}}Ls.DEFAULTS=U(!0,{},le.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){let t=this.quill.getSelection();if(t==null||t.length==0)return;let r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});class Cs extends Os{constructor(t,r){super(t,r),this.preview=this.root.querySelector("a.ql-preview")}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){let r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,N.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(N.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===N.sources.USER){let[n,s]=this.quill.scroll.descendant(nt,t.index);if(n!=null){this.linkRange=new Pt(t.index-s,n.length());let o=nt.formats(n.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show(),this.position(this.quill.getBounds(this.linkRange));return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Cs.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");A.register({"attributors/attribute/direction":us,"attributors/class/align":os,"attributors/class/background":Ga,"attributors/class/color":Wa,"attributors/class/direction":cs,"attributors/class/font":ds,"attributors/class/size":ys,"attributors/style/align":ls,"attributors/style/background":Jr,"attributors/style/color":Xr,"attributors/style/direction":fs,"attributors/style/font":ps,"attributors/style/size":gs},!0);A.register({"formats/align":os,"formats/direction":cs,"formats/indent":fu,"formats/background":Jr,"formats/color":Xr,"formats/font":ds,"formats/size":ys,"formats/blockquote":Qr,"formats/code-block":K,"formats/header":ti,"formats/list":Ot,"formats/bold":qe,"formats/code":Vr,"formats/italic":ei,"formats/link":nt,"formats/script":ri,"formats/strike":ii,"formats/underline":ni,"formats/image":si,"formats/video":Re,"formats/list/item":oe,"modules/formula":hu,"modules/syntax":As,"modules/toolbar":oi,"themes/bubble":ws,"themes/snow":Ls,"ui/icons":Qt,"ui/picker":$e,"ui/icon-picker":Ns,"ui/color-picker":Ss,"ui/tooltip":xs},!0);window.Quill=A;var _r=!1,Er=!1,vt=[],Ar=-1;function pf(e){yf(e)}function yf(e){vt.includes(e)||vt.push(e),gf()}function ks(e){let t=vt.indexOf(e);t!==-1&&t>Ar&&vt.splice(t,1)}function gf(){!Er&&!_r&&(_r=!0,queueMicrotask(mf))}function mf(){_r=!1,Er=!0;for(let e=0;e<vt.length;e++)vt[e](),Ar=e;vt.length=0,Ar=-1,Er=!1}var jt,$t,ae,Is,Sr=!0;function vf(e){Sr=!1,e(),Sr=!0}function bf(e){jt=e.reactive,ae=e.release,$t=t=>e.effect(t,{scheduler:r=>{Sr?pf(r):r()}}),Is=e.raw}function mn(e){$t=e}function _f(e){let t=()=>{};return[i=>{let n=$t(i);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(s=>s())}),e._x_effects.add(n),t=()=>{n!==void 0&&(e._x_effects.delete(n),ae(n))},n},()=>{t()}]}var Ps=[],qs=[],Rs=[];function Ef(e){Rs.push(e)}function js(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,qs.push(t))}function Af(e){Ps.push(e)}function Sf(e,t,r){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(r)}function $s(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([r,i])=>{(t===void 0||t.includes(r))&&(i.forEach(n=>n()),delete e._x_attributeCleanups[r])})}var li=new MutationObserver(fi),ai=!1;function ui(){li.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),ai=!0}function Bs(){Nf(),li.disconnect(),ai=!1}var Gt=[],lr=!1;function Nf(){Gt=Gt.concat(li.takeRecords()),Gt.length&&!lr&&(lr=!0,queueMicrotask(()=>{xf(),lr=!1}))}function xf(){fi(Gt),Gt.length=0}function $(e){if(!ai)return e();Bs();let t=e();return ui(),t}var ci=!1,we=[];function Of(){ci=!0}function wf(){ci=!1,fi(we),we=[]}function fi(e){if(ci){we=we.concat(e);return}let t=[],r=[],i=new Map,n=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&(e[s].type==="childList"&&(e[s].addedNodes.forEach(o=>o.nodeType===1&&t.push(o)),e[s].removedNodes.forEach(o=>o.nodeType===1&&r.push(o))),e[s].type==="attributes")){let o=e[s].target,l=e[s].attributeName,a=e[s].oldValue,f=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:l,value:o.getAttribute(l)})},h=()=>{n.has(o)||n.set(o,[]),n.get(o).push(l)};o.hasAttribute(l)&&a===null?f():o.hasAttribute(l)?(h(),f()):h()}n.forEach((s,o)=>{$s(o,s)}),i.forEach((s,o)=>{Ps.forEach(l=>l(o,s))});for(let s of r)if(!t.includes(s)&&(qs.forEach(o=>o(s)),s._x_cleanups))for(;s._x_cleanups.length;)s._x_cleanups.pop()();t.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of t)r.includes(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,Rs.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);t.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),t=null,r=null,i=null,n=null}function Ms(e){return ce(qt(e))}function ue(e,t,r){return e._x_dataStack=[t,...qt(r||e)],()=>{e._x_dataStack=e._x_dataStack.filter(i=>i!==t)}}function qt(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?qt(e.host):e.parentNode?qt(e.parentNode):[]}function ce(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(r=>Object.keys(r)))),has:(r,i)=>e.some(n=>n.hasOwnProperty(i)),get:(r,i)=>(e.find(n=>{if(n.hasOwnProperty(i)){let s=Object.getOwnPropertyDescriptor(n,i);if(s.get&&s.get._x_alreadyBound||s.set&&s.set._x_alreadyBound)return!0;if((s.get||s.set)&&s.enumerable){let o=s.get,l=s.set,a=s;o=o&&o.bind(t),l=l&&l.bind(t),o&&(o._x_alreadyBound=!0),l&&(l._x_alreadyBound=!0),Object.defineProperty(n,i,{...a,get:o,set:l})}return!0}return!1})||{})[i],set:(r,i,n)=>{let s=e.find(o=>o.hasOwnProperty(i));return s?s[i]=n:e[e.length-1][i]=n,!0}});return t}function Ds(e){let t=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,r=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:o,enumerable:l}])=>{if(l===!1||o===void 0)return;let a=n===""?s:`${n}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[s]=o.initialize(e,a,s):t(o)&&o!==i&&!(o instanceof Element)&&r(o,a)})};return r(e)}function Fs(e,t=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(i,n,s){return e(this.initialValue,()=>Tf(i,n),o=>Nr(i,n,o),n,s)}};return t(r),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let n=r.initialize.bind(r);r.initialize=(s,o,l)=>{let a=i.initialize(s,o,l);return r.initialValue=a,n(s,o,l)}}else r.initialValue=i;return r}}function Tf(e,t){return t.split(".").reduce((r,i)=>r[i],e)}function Nr(e,t,r){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=r;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),Nr(e[t[0]],t.slice(1),r)}}var Us={};function G(e,t){Us[e]=t}function xr(e,t){return Object.entries(Us).forEach(([r,i])=>{let n=null;function s(){if(n)return n;{let[o,l]=Vs(t);return n={interceptor:Fs,...o},js(t,l),n}}Object.defineProperty(e,`$${r}`,{get(){return i(t,s())},enumerable:!1})}),e}function Lf(e,t,r,...i){try{return r(...i)}catch(n){te(n,e,t)}}function te(e,t,r=void 0){Object.assign(e,{el:t,expression:r}),console.warn(`Alpine Expression Error: ${e.message}

${r?'Expression: "'+r+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Ne=!0;function zs(e){let t=Ne;Ne=!1;let r=e();return Ne=t,r}function bt(e,t,r={}){let i;return z(e,t)(n=>i=n,r),i}function z(...e){return Ks(...e)}var Ks=Hs;function Cf(e){Ks=e}function Hs(e,t){let r={};xr(r,e);let i=[r,...qt(e)],n=typeof t=="function"?kf(i,t):Pf(i,t,e);return Lf.bind(null,e,t,n)}function kf(e,t){return(r=()=>{},{scope:i={},params:n=[]}={})=>{let s=t.apply(ce([i,...e]),n);Te(r,s)}}var ar={};function If(e,t){if(ar[e])return ar[e];let r=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(async()=>{ ${e} })()`:e,s=(()=>{try{return new r(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`)}catch(o){return te(o,t,e),Promise.resolve()}})();return ar[e]=s,s}function Pf(e,t,r){let i=If(t,r);return(n=()=>{},{scope:s={},params:o=[]}={})=>{i.result=void 0,i.finished=!1;let l=ce([s,...e]);if(typeof i=="function"){let a=i(i,l).catch(f=>te(f,r,t));i.finished?(Te(n,i.result,l,o,r),i.result=void 0):a.then(f=>{Te(n,f,l,o,r)}).catch(f=>te(f,r,t)).finally(()=>i.result=void 0)}}}function Te(e,t,r,i,n){if(Ne&&typeof t=="function"){let s=t.apply(r,i);s instanceof Promise?s.then(o=>Te(e,o,r,i)).catch(o=>te(o,n,t)):e(s)}else typeof t=="object"&&t instanceof Promise?t.then(s=>e(s)):e(t)}var hi="x-";function Bt(e=""){return hi+e}function qf(e){hi=e}var Or={};function q(e,t){return Or[e]=t,{before(r){if(!Or[r]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const i=pt.indexOf(r);pt.splice(i>=0?i:pt.indexOf("DEFAULT"),0,e)}}}function di(e,t,r){if(t=Array.from(t),e._x_virtualDirectives){let s=Object.entries(e._x_virtualDirectives).map(([l,a])=>({name:l,value:a})),o=Ws(s);s=s.map(l=>o.find(a=>a.name===l.name)?{name:`x-bind:${l.name}`,value:`"${l.value}"`}:l),t=t.concat(s)}let i={};return t.map(Js((s,o)=>i[s]=o)).filter(Qs).map($f(i,r)).sort(Bf).map(s=>jf(e,s))}function Ws(e){return Array.from(e).map(Js()).filter(t=>!Qs(t))}var wr=!1,Ht=new Map,Gs=Symbol();function Rf(e){wr=!0;let t=Symbol();Gs=t,Ht.set(t,[]);let r=()=>{for(;Ht.get(t).length;)Ht.get(t).shift()();Ht.delete(t)},i=()=>{wr=!1,r()};e(r),i()}function Vs(e){let t=[],r=l=>t.push(l),[i,n]=_f(e);return t.push(n),[{Alpine:he,effect:i,cleanup:r,evaluateLater:z.bind(z,e),evaluate:bt.bind(bt,e)},()=>t.forEach(l=>l())]}function jf(e,t){let r=()=>{},i=Or[t.type]||r,[n,s]=Vs(e);Sf(e,t.original,s);let o=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,t,n),i=i.bind(i,e,t,n),wr?Ht.get(Gs).push(i):i())};return o.runCleanups=s,o}var Ys=(e,t)=>({name:r,value:i})=>(r.startsWith(e)&&(r=r.replace(e,t)),{name:r,value:i}),Xs=e=>e;function Js(e=()=>{}){return({name:t,value:r})=>{let{name:i,value:n}=Zs.reduce((s,o)=>o(s),{name:t,value:r});return i!==t&&e(i,t),{name:i,value:n}}}var Zs=[];function pi(e){Zs.push(e)}function Qs({name:e}){return to().test(e)}var to=()=>new RegExp(`^${hi}([^:^.]+)\\b`);function $f(e,t){return({name:r,value:i})=>{let n=r.match(to()),s=r.match(/:([a-zA-Z0-9\-:]+)/),o=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],l=t||e[r]||r;return{type:n?n[1]:null,value:s?s[1]:null,modifiers:o.map(a=>a.replace(".","")),expression:i,original:l}}}var Tr="DEFAULT",pt=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",Tr,"teleport"];function Bf(e,t){let r=pt.indexOf(e.type)===-1?Tr:e.type,i=pt.indexOf(t.type)===-1?Tr:t.type;return pt.indexOf(r)-pt.indexOf(i)}function Vt(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function st(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(n=>st(n,t));return}let r=!1;if(t(e,()=>r=!0),r)return;let i=e.firstElementChild;for(;i;)st(i,t),i=i.nextElementSibling}function ot(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var vn=!1;function Mf(){vn&&ot("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),vn=!0,document.body||ot("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Vt(document,"alpine:init"),Vt(document,"alpine:initializing"),ui(),Ef(t=>lt(t,st)),js(t=>lo(t)),Af((t,r)=>{di(t,r).forEach(i=>i())});let e=t=>!Be(t.parentElement,!0);Array.from(document.querySelectorAll(io())).filter(e).forEach(t=>{lt(t)}),Vt(document,"alpine:initialized")}var yi=[],eo=[];function ro(){return yi.map(e=>e())}function io(){return yi.concat(eo).map(e=>e())}function no(e){yi.push(e)}function so(e){eo.push(e)}function Be(e,t=!1){return Me(e,r=>{if((t?io():ro()).some(n=>r.matches(n)))return!0})}function Me(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Me(e.parentElement,t)}}function Df(e){return ro().some(t=>e.matches(t))}var oo=[];function Ff(e){oo.push(e)}function lt(e,t=st,r=()=>{}){Rf(()=>{t(e,(i,n)=>{r(i,n),oo.forEach(s=>s(i,n)),di(i,i.attributes).forEach(s=>s()),i._x_ignore&&n()})})}function lo(e){st(e,t=>$s(t))}var Lr=[],gi=!1;function mi(e=()=>{}){return queueMicrotask(()=>{gi||setTimeout(()=>{Cr()})}),new Promise(t=>{Lr.push(()=>{e(),t()})})}function Cr(){for(gi=!1;Lr.length;)Lr.shift()()}function Uf(){gi=!0}function vi(e,t){return Array.isArray(t)?bn(e,t.join(" ")):typeof t=="object"&&t!==null?zf(e,t):typeof t=="function"?vi(e,t()):bn(e,t)}function bn(e,t){let r=n=>n.split(" ").filter(s=>!e.classList.contains(s)).filter(Boolean),i=n=>(e.classList.add(...n),()=>{e.classList.remove(...n)});return t=t===!0?t="":t||"",i(r(t))}function zf(e,t){let r=l=>l.split(" ").filter(Boolean),i=Object.entries(t).flatMap(([l,a])=>a?r(l):!1).filter(Boolean),n=Object.entries(t).flatMap(([l,a])=>a?!1:r(l)).filter(Boolean),s=[],o=[];return n.forEach(l=>{e.classList.contains(l)&&(e.classList.remove(l),o.push(l))}),i.forEach(l=>{e.classList.contains(l)||(e.classList.add(l),s.push(l))}),()=>{o.forEach(l=>e.classList.add(l)),s.forEach(l=>e.classList.remove(l))}}function De(e,t){return typeof t=="object"&&t!==null?Kf(e,t):Hf(e,t)}function Kf(e,t){let r={};return Object.entries(t).forEach(([i,n])=>{r[i]=e.style[i],i.startsWith("--")||(i=Wf(i)),e.style.setProperty(i,n)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{De(e,r)}}function Hf(e,t){let r=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")}}function Wf(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kr(e,t=()=>{}){let r=!1;return function(){r?t.apply(this,arguments):(r=!0,e.apply(this,arguments))}}q("transition",(e,{value:t,modifiers:r,expression:i},{evaluate:n})=>{typeof i=="function"&&(i=n(i)),i!==!1&&(!i||typeof i=="boolean"?Vf(e,r,t):Gf(e,i,t))});function Gf(e,t,r){ao(e,vi,""),{enter:n=>{e._x_transition.enter.during=n},"enter-start":n=>{e._x_transition.enter.start=n},"enter-end":n=>{e._x_transition.enter.end=n},leave:n=>{e._x_transition.leave.during=n},"leave-start":n=>{e._x_transition.leave.start=n},"leave-end":n=>{e._x_transition.leave.end=n}}[r](t)}function Vf(e,t,r){ao(e,De);let i=!t.includes("in")&&!t.includes("out")&&!r,n=i||t.includes("in")||["enter"].includes(r),s=i||t.includes("out")||["leave"].includes(r);t.includes("in")&&!i&&(t=t.filter((m,g)=>g<t.indexOf("out"))),t.includes("out")&&!i&&(t=t.filter((m,g)=>g>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),l=o||t.includes("opacity"),a=o||t.includes("scale"),f=l?0:1,h=a?zt(t,"scale",95)/100:1,u=zt(t,"delay",0)/1e3,c=zt(t,"origin","center"),d="opacity, transform",p=zt(t,"duration",150)/1e3,v=zt(t,"duration",75)/1e3,y="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(e._x_transition.enter.during={transformOrigin:c,transitionDelay:`${u}s`,transitionProperty:d,transitionDuration:`${p}s`,transitionTimingFunction:y},e._x_transition.enter.start={opacity:f,transform:`scale(${h})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(e._x_transition.leave.during={transformOrigin:c,transitionDelay:`${u}s`,transitionProperty:d,transitionDuration:`${v}s`,transitionTimingFunction:y},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:f,transform:`scale(${h})`})}function ao(e,t,r={}){e._x_transition||(e._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(i=()=>{},n=()=>{}){Ir(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=()=>{},n=()=>{}){Ir(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,r,i){const n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>n(r);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(r):s():e._x_transition?e._x_transition.in(r):s();return}e._x_hidePromise=e._x_transition?new Promise((o,l)=>{e._x_transition.out(()=>{},()=>o(i)),e._x_transitioning.beforeCancel(()=>l({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=uo(e);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(e)):n(()=>{let l=a=>{let f=Promise.all([a._x_hidePromise,...(a._x_hideChildren||[]).map(l)]).then(([h])=>h());return delete a._x_hidePromise,delete a._x_hideChildren,f};l(e).catch(a=>{if(!a.isFromCancelledTransition)throw a})})})};function uo(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:uo(t)}function Ir(e,t,{during:r,start:i,end:n}={},s=()=>{},o=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(i).length===0&&Object.keys(n).length===0){s(),o();return}let l,a,f;Yf(e,{start(){l=t(e,i)},during(){a=t(e,r)},before:s,end(){l(),f=t(e,n)},after:o,cleanup(){a(),f()}})}function Yf(e,t){let r,i,n,s=kr(()=>{$(()=>{r=!0,i||t.before(),n||(t.end(),Cr()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:kr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},$(()=>{t.start(),t.during()}),Uf(),requestAnimationFrame(()=>{if(r)return;let o=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,l=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),$(()=>{t.before()}),i=!0,requestAnimationFrame(()=>{r||($(()=>{t.end()}),Cr(),setTimeout(e._x_transitioning.finish,o+l),n=!0)})})}function zt(e,t,r){if(e.indexOf(t)===-1)return r;const i=e[e.indexOf(t)+1];if(!i||t==="scale"&&isNaN(i))return r;if(t==="duration"||t==="delay"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[i,e[e.indexOf(t)+2]].join(" "):i}var ee=!1;function fe(e,t=()=>{}){return(...r)=>ee?t(...r):e(...r)}function Xf(e){return(...t)=>ee&&e(...t)}function Jf(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ee=!0,Qf(()=>{Zf(t)}),ee=!1}function Zf(e){let t=!1;lt(e,(i,n)=>{st(i,(s,o)=>{if(t&&Df(s))return o();t=!0,n(s,o)})})}function Qf(e){let t=$t;mn((r,i)=>{let n=t(r);return ae(n),()=>{}}),e(),mn(t)}function co(e,t,r,i=[]){switch(e._x_bindings||(e._x_bindings=jt({})),e._x_bindings[t]=r,t=i.includes("camel")?lh(t):t,t){case"value":th(e,r);break;case"style":rh(e,r);break;case"class":eh(e,r);break;case"selected":case"checked":ih(e,t,r);break;default:fo(e,t,r);break}}function th(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(e.checked=_n(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(r=>_n(r,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")oh(e,t);else{if(e.value===t)return;e.value=t}}function eh(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=vi(e,t)}function rh(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=De(e,t)}function ih(e,t,r){fo(e,t,r),sh(e,t,r)}function fo(e,t,r){[null,void 0,!1].includes(r)&&ah(t)?e.removeAttribute(t):(ho(t)&&(r=t),nh(e,t,r))}function nh(e,t,r){e.getAttribute(t)!=r&&e.setAttribute(t,r)}function sh(e,t,r){e[t]!==r&&(e[t]=r)}function oh(e,t){const r=[].concat(t).map(i=>i+"");Array.from(e.options).forEach(i=>{i.selected=r.includes(i.value)})}function lh(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function _n(e,t){return e==t}function ho(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function ah(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function uh(e,t,r){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:po(e,t,r)}function ch(e,t,r,i=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let n=e._x_inlineBindings[t];return n.extract=i,zs(()=>bt(e,n.expression))}return po(e,t,r)}function po(e,t,r){let i=e.getAttribute(t);return i===null?typeof r=="function"?r():r:i===""?!0:ho(t)?!![t,"true"].includes(i):i}function yo(e,t){var r;return function(){var i=this,n=arguments,s=function(){r=null,e.apply(i,n)};clearTimeout(r),r=setTimeout(s,t)}}function go(e,t){let r;return function(){let i=this,n=arguments;r||(e.apply(i,n),r=!0,setTimeout(()=>r=!1,t))}}function fh(e){(Array.isArray(e)?e:[e]).forEach(r=>r(he))}var ht={},En=!1;function hh(e,t){if(En||(ht=jt(ht),En=!0),t===void 0)return ht[e];ht[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&ht[e].init(),Ds(ht[e])}function dh(){return ht}var mo={};function ph(e,t){let r=typeof t!="function"?()=>t:t;e instanceof Element?vo(e,r()):mo[e]=r}function yh(e){return Object.entries(mo).forEach(([t,r])=>{Object.defineProperty(e,t,{get(){return(...i)=>r(...i)}})}),e}function vo(e,t,r){let i=[];for(;i.length;)i.pop()();let n=Object.entries(t).map(([o,l])=>({name:o,value:l})),s=Ws(n);n=n.map(o=>s.find(l=>l.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),di(e,n,r).map(o=>{i.push(o.runCleanups),o()})}var bo={};function gh(e,t){bo[e]=t}function mh(e,t){return Object.entries(bo).forEach(([r,i])=>{Object.defineProperty(e,r,{get(){return(...n)=>i.bind(t)(...n)},enumerable:!1})}),e}var vh={get reactive(){return jt},get release(){return ae},get effect(){return $t},get raw(){return Is},version:"3.12.3",flushAndStopDeferringMutations:wf,dontAutoEvaluateFunctions:zs,disableEffectScheduling:vf,startObservingMutations:ui,stopObservingMutations:Bs,setReactivityEngine:bf,closestDataStack:qt,skipDuringClone:fe,onlyDuringClone:Xf,addRootSelector:no,addInitSelector:so,addScopeToNode:ue,deferMutations:Of,mapAttributes:pi,evaluateLater:z,interceptInit:Ff,setEvaluator:Cf,mergeProxies:ce,extractProp:ch,findClosest:Me,closestRoot:Be,destroyTree:lo,interceptor:Fs,transition:Ir,setStyles:De,mutateDom:$,directive:q,throttle:go,debounce:yo,evaluate:bt,initTree:lt,nextTick:mi,prefixed:Bt,prefix:qf,plugin:fh,magic:G,store:hh,start:Mf,clone:Jf,bound:uh,$data:Ms,walk:st,data:gh,bind:ph},he=vh;function bh(e,t){const r=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return t?n=>!!r[n.toLowerCase()]:n=>!!r[n]}var _h=Object.freeze({}),_o=Object.assign,Eh=Object.prototype.hasOwnProperty,Fe=(e,t)=>Eh.call(e,t),_t=Array.isArray,Yt=e=>Eo(e)==="[object Map]",Ah=e=>typeof e=="string",bi=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",Sh=Object.prototype.toString,Eo=e=>Sh.call(e),Ao=e=>Eo(e).slice(8,-1),_i=e=>Ah(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nh=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},xh=Nh(e=>e.charAt(0).toUpperCase()+e.slice(1)),So=(e,t)=>e!==t&&(e===e||t===t),Pr=new WeakMap,Kt=[],Y,Et=Symbol("iterate"),qr=Symbol("Map key iterate");function Oh(e){return e&&e._isEffect===!0}function wh(e,t=_h){Oh(e)&&(e=e.raw);const r=Ch(e,t);return t.lazy||r(),r}function Th(e){e.active&&(No(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var Lh=0;function Ch(e,t){const r=function(){if(!r.active)return e();if(!Kt.includes(r)){No(r);try{return Ih(),Kt.push(r),Y=r,e()}finally{Kt.pop(),xo(),Y=Kt[Kt.length-1]}}};return r.id=Lh++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}function No(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}var Rt=!0,Ei=[];function kh(){Ei.push(Rt),Rt=!1}function Ih(){Ei.push(Rt),Rt=!0}function xo(){const e=Ei.pop();Rt=e===void 0?!0:e}function W(e,t,r){if(!Rt||Y===void 0)return;let i=Pr.get(e);i||Pr.set(e,i=new Map);let n=i.get(r);n||i.set(r,n=new Set),n.has(Y)||(n.add(Y),Y.deps.push(n),Y.options.onTrack&&Y.options.onTrack({effect:Y,target:e,type:t,key:r}))}function at(e,t,r,i,n,s){const o=Pr.get(e);if(!o)return;const l=new Set,a=h=>{h&&h.forEach(u=>{(u!==Y||u.allowRecurse)&&l.add(u)})};if(t==="clear")o.forEach(a);else if(r==="length"&&_t(e))o.forEach((h,u)=>{(u==="length"||u>=i)&&a(h)});else switch(r!==void 0&&a(o.get(r)),t){case"add":_t(e)?_i(r)&&a(o.get("length")):(a(o.get(Et)),Yt(e)&&a(o.get(qr)));break;case"delete":_t(e)||(a(o.get(Et)),Yt(e)&&a(o.get(qr)));break;case"set":Yt(e)&&a(o.get(Et));break}const f=h=>{h.options.onTrigger&&h.options.onTrigger({effect:h,target:e,key:r,type:t,newValue:i,oldValue:n,oldTarget:s}),h.options.scheduler?h.options.scheduler(h):h()};l.forEach(f)}var Ph=bh("__proto__,__v_isRef,__isVue"),Oo=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(bi)),qh=ze(),Rh=ze(!1,!0),jh=ze(!0),$h=ze(!0,!0),Le={};["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];Le[e]=function(...r){const i=P(this);for(let s=0,o=this.length;s<o;s++)W(i,"get",s+"");const n=t.apply(i,r);return n===-1||n===!1?t.apply(i,r.map(P)):n}});["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];Le[e]=function(...r){kh();const i=t.apply(this,r);return xo(),i}});function ze(e=!1,t=!1){return function(i,n,s){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_raw"&&s===(e?t?Gh:Fo:t?Wh:Do).get(i))return i;const o=_t(i);if(!e&&o&&Fe(Le,n))return Reflect.get(Le,n,s);const l=Reflect.get(i,n,s);return(bi(n)?Oo.has(n):Ph(n))||(e||W(i,"get",n),t)?l:Rr(l)?!o||!_i(n)?l.value:l:Ue(l)?e?Uo(l):xi(l):l}}var Bh=wo(),Mh=wo(!0);function wo(e=!1){return function(r,i,n,s){let o=r[i];if(!e&&(n=P(n),o=P(o),!_t(r)&&Rr(o)&&!Rr(n)))return o.value=n,!0;const l=_t(r)&&_i(i)?Number(i)<r.length:Fe(r,i),a=Reflect.set(r,i,n,s);return r===P(s)&&(l?So(n,o)&&at(r,"set",i,n,o):at(r,"add",i,n)),a}}function Dh(e,t){const r=Fe(e,t),i=e[t],n=Reflect.deleteProperty(e,t);return n&&r&&at(e,"delete",t,void 0,i),n}function Fh(e,t){const r=Reflect.has(e,t);return(!bi(t)||!Oo.has(t))&&W(e,"has",t),r}function Uh(e){return W(e,"iterate",_t(e)?"length":Et),Reflect.ownKeys(e)}var To={get:qh,set:Bh,deleteProperty:Dh,has:Fh,ownKeys:Uh},Lo={get:jh,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}};_o({},To,{get:Rh,set:Mh});_o({},Lo,{get:$h});var Ai=e=>Ue(e)?xi(e):e,Si=e=>Ue(e)?Uo(e):e,Ni=e=>e,Ke=e=>Reflect.getPrototypeOf(e);function He(e,t,r=!1,i=!1){e=e.__v_raw;const n=P(e),s=P(t);t!==s&&!r&&W(n,"get",t),!r&&W(n,"get",s);const{has:o}=Ke(n),l=i?Ni:r?Si:Ai;if(o.call(n,t))return l(e.get(t));if(o.call(n,s))return l(e.get(s));e!==n&&e.get(t)}function We(e,t=!1){const r=this.__v_raw,i=P(r),n=P(e);return e!==n&&!t&&W(i,"has",e),!t&&W(i,"has",n),e===n?r.has(e):r.has(e)||r.has(n)}function Ge(e,t=!1){return e=e.__v_raw,!t&&W(P(e),"iterate",Et),Reflect.get(e,"size",e)}function Co(e){e=P(e);const t=P(this);return Ke(t).has.call(t,e)||(t.add(e),at(t,"add",e,e)),this}function ko(e,t){t=P(t);const r=P(this),{has:i,get:n}=Ke(r);let s=i.call(r,e);s?Mo(r,i,e):(e=P(e),s=i.call(r,e));const o=n.call(r,e);return r.set(e,t),s?So(t,o)&&at(r,"set",e,t,o):at(r,"add",e,t),this}function Io(e){const t=P(this),{has:r,get:i}=Ke(t);let n=r.call(t,e);n?Mo(t,r,e):(e=P(e),n=r.call(t,e));const s=i?i.call(t,e):void 0,o=t.delete(e);return n&&at(t,"delete",e,void 0,s),o}function Po(){const e=P(this),t=e.size!==0,r=Yt(e)?new Map(e):new Set(e),i=e.clear();return t&&at(e,"clear",void 0,void 0,r),i}function Ve(e,t){return function(i,n){const s=this,o=s.__v_raw,l=P(o),a=t?Ni:e?Si:Ai;return!e&&W(l,"iterate",Et),o.forEach((f,h)=>i.call(n,a(f),a(h),s))}}function be(e,t,r){return function(...i){const n=this.__v_raw,s=P(n),o=Yt(s),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,f=n[e](...i),h=r?Ni:t?Si:Ai;return!t&&W(s,"iterate",a?qr:Et),{next(){const{value:u,done:c}=f.next();return c?{value:u,done:c}:{value:l?[h(u[0]),h(u[1])]:h(u),done:c}},[Symbol.iterator](){return this}}}}function et(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${xh(e)} operation ${r}failed: target is readonly.`,P(this))}return e==="delete"?!1:this}}var qo={get(e){return He(this,e)},get size(){return Ge(this)},has:We,add:Co,set:ko,delete:Io,clear:Po,forEach:Ve(!1,!1)},Ro={get(e){return He(this,e,!1,!0)},get size(){return Ge(this)},has:We,add:Co,set:ko,delete:Io,clear:Po,forEach:Ve(!1,!0)},jo={get(e){return He(this,e,!0)},get size(){return Ge(this,!0)},has(e){return We.call(this,e,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:Ve(!0,!1)},$o={get(e){return He(this,e,!0,!0)},get size(){return Ge(this,!0)},has(e){return We.call(this,e,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:Ve(!0,!0)},zh=["keys","values","entries",Symbol.iterator];zh.forEach(e=>{qo[e]=be(e,!1,!1),jo[e]=be(e,!0,!1),Ro[e]=be(e,!1,!0),$o[e]=be(e,!0,!0)});function Bo(e,t){const r=t?e?$o:Ro:e?jo:qo;return(i,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Fe(r,n)&&n in i?r:i,n,s)}var Kh={get:Bo(!1,!1)},Hh={get:Bo(!0,!1)};function Mo(e,t,r){const i=P(r);if(i!==r&&t.call(e,i)){const n=Ao(e);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Do=new WeakMap,Wh=new WeakMap,Fo=new WeakMap,Gh=new WeakMap;function Vh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yh(e){return e.__v_skip||!Object.isExtensible(e)?0:Vh(Ao(e))}function xi(e){return e&&e.__v_isReadonly?e:zo(e,!1,To,Kh,Do)}function Uo(e){return zo(e,!0,Lo,Hh,Fo)}function zo(e,t,r,i,n){if(!Ue(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=n.get(e);if(s)return s;const o=Yh(e);if(o===0)return e;const l=new Proxy(e,o===2?i:r);return n.set(e,l),l}function P(e){return e&&P(e.__v_raw)||e}function Rr(e){return!!(e&&e.__v_isRef===!0)}G("nextTick",()=>mi);G("dispatch",e=>Vt.bind(Vt,e));G("watch",(e,{evaluateLater:t,effect:r})=>(i,n)=>{let s=t(i),o=!0,l,a=r(()=>s(f=>{JSON.stringify(f),o?l=f:queueMicrotask(()=>{n(f,l),l=f}),o=!1}));e._x_effects.delete(a)});G("store",dh);G("data",e=>Ms(e));G("root",e=>Be(e));G("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=ce(Xh(e))),e._x_refs_proxy));function Xh(e){let t=[],r=e;for(;r;)r._x_refs&&t.push(r._x_refs),r=r.parentNode;return t}var ur={};function Ko(e){return ur[e]||(ur[e]=0),++ur[e]}function Jh(e,t){return Me(e,r=>{if(r._x_ids&&r._x_ids[t])return!0})}function Zh(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Ko(t))}G("id",e=>(t,r=null)=>{let i=Jh(e,t),n=i?i._x_ids[t]:Ko(t);return r?`${t}-${n}-${r}`:`${t}-${n}`});G("el",e=>e);Ho("Focus","focus","focus");Ho("Persist","persist","persist");function Ho(e,t,r){G(t,i=>ot(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}function Qh({get:e,set:t},{get:r,set:i}){let n=!0,s,o,l=$t(()=>{let a,f;n?(a=e(),i(a),f=r(),n=!1):(a=e(),f=r(),o=JSON.stringify(a),JSON.stringify(f),o!==s?(f=r(),i(a),f=a):(t(f),a=f)),s=JSON.stringify(a),JSON.stringify(f)});return()=>{ae(l)}}q("modelable",(e,{expression:t},{effect:r,evaluateLater:i,cleanup:n})=>{let s=i(t),o=()=>{let h;return s(u=>h=u),h},l=i(`${t} = __placeholder`),a=h=>l(()=>{},{scope:{__placeholder:h}}),f=o();a(f),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let h=e._x_model.get,u=e._x_model.set,c=Qh({get(){return h()},set(d){u(d)}},{get(){return o()},set(d){a(d)}});n(c)})});var td=document.createElement("div");q("teleport",(e,{modifiers:t,expression:r},{cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&ot("x-teleport can only be used on a <template> tag",e);let n=fe(()=>document.querySelector(r),()=>td)();n||ot(`Cannot find x-teleport element for selector: "${r}"`);let s=e.content.cloneNode(!0).firstElementChild;e._x_teleport=s,s._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(o=>{s.addEventListener(o,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),ue(s,{},e),$(()=>{t.includes("prepend")?n.parentNode.insertBefore(s,n):t.includes("append")?n.parentNode.insertBefore(s,n.nextSibling):n.appendChild(s),lt(s),s._x_ignore=!0}),i(()=>s.remove())});var Wo=()=>{};Wo.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,r(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};q("ignore",Wo);q("effect",(e,{expression:t},{effect:r})=>r(z(e,t)));function jr(e,t,r,i){let n=e,s=a=>i(a),o={},l=(a,f)=>h=>f(a,h);if(r.includes("dot")&&(t=ed(t)),r.includes("camel")&&(t=rd(t)),r.includes("passive")&&(o.passive=!0),r.includes("capture")&&(o.capture=!0),r.includes("window")&&(n=window),r.includes("document")&&(n=document),r.includes("debounce")){let a=r[r.indexOf("debounce")+1]||"invalid-wait",f=Ce(a.split("ms")[0])?Number(a.split("ms")[0]):250;s=yo(s,f)}if(r.includes("throttle")){let a=r[r.indexOf("throttle")+1]||"invalid-wait",f=Ce(a.split("ms")[0])?Number(a.split("ms")[0]):250;s=go(s,f)}return r.includes("prevent")&&(s=l(s,(a,f)=>{f.preventDefault(),a(f)})),r.includes("stop")&&(s=l(s,(a,f)=>{f.stopPropagation(),a(f)})),r.includes("self")&&(s=l(s,(a,f)=>{f.target===e&&a(f)})),(r.includes("away")||r.includes("outside"))&&(n=document,s=l(s,(a,f)=>{e.contains(f.target)||f.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&a(f))})),r.includes("once")&&(s=l(s,(a,f)=>{a(f),n.removeEventListener(t,s,o)})),s=l(s,(a,f)=>{nd(t)&&sd(f,r)||a(f)}),n.addEventListener(t,s,o),()=>{n.removeEventListener(t,s,o)}}function ed(e){return e.replace(/-/g,".")}function rd(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function Ce(e){return!Array.isArray(e)&&!isNaN(e)}function id(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function nd(e){return["keydown","keyup"].includes(e)}function sd(e,t){let r=t.filter(s=>!["window","document","prevent","stop","once","capture"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,Ce((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,Ce((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&An(e.key).includes(r[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!n.includes(s)),!(n.length>0&&n.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),e[`${o}Key`])).length===n.length&&An(e.key).includes(r[0]))}function An(e){if(!e)return[];e=id(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(r=>{if(t[r]===e)return r}).filter(r=>r)}q("model",(e,{modifiers:t,expression:r},{effect:i,cleanup:n})=>{let s=e;t.includes("parent")&&(s=e.parentNode);let o=z(s,r),l;typeof r=="string"?l=z(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?l=z(s,`${r()} = __placeholder`):l=()=>{};let a=()=>{let c;return o(d=>c=d),Sn(c)?c.get():c},f=c=>{let d;o(p=>d=p),Sn(d)?d.set(c):l(()=>{},{scope:{__placeholder:c}})};typeof r=="string"&&e.type==="radio"&&$(()=>{e.hasAttribute("name")||e.setAttribute("name",r)});var h=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let u=ee?()=>{}:jr(e,h,t,c=>{f(od(e,t,c,a()))});if(t.includes("fill")&&[null,""].includes(a())&&e.dispatchEvent(new Event(h,{})),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=u,n(()=>e._x_removeModelListeners.default()),e.form){let c=jr(e.form,"reset",[],d=>{mi(()=>e._x_model&&e._x_model.set(e.value))});n(()=>c())}e._x_model={get(){return a()},set(c){f(c)}},e._x_forceModelUpdate=c=>{c=c===void 0?a():c,c===void 0&&typeof r=="string"&&r.match(/\./)&&(c=""),window.fromModel=!0,$(()=>co(e,"value",c)),delete window.fromModel},i(()=>{let c=a();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(c)})});function od(e,t,r,i){return $(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail??r.target.value;if(e.type==="checkbox")if(Array.isArray(i)){let n=t.includes("number")?cr(r.target.value):r.target.value;return r.target.checked?i.concat([n]):i.filter(s=>!ld(s,n))}else return r.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return cr(s)}):Array.from(r.target.selectedOptions).map(n=>n.value||n.text);{let n=r.target.value;return t.includes("number")?cr(n):t.includes("trim")?n.trim():n}}})}function cr(e){let t=e?parseFloat(e):null;return ad(t)?t:e}function ld(e,t){return e==t}function ad(e){return!Array.isArray(e)&&!isNaN(e)}function Sn(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}q("cloak",e=>queueMicrotask(()=>$(()=>e.removeAttribute(Bt("cloak")))));so(()=>`[${Bt("init")}]`);q("init",fe((e,{expression:t},{evaluate:r})=>typeof t=="string"?!!t.trim()&&r(t,{},!1):r(t,{},!1)));q("text",(e,{expression:t},{effect:r,evaluateLater:i})=>{let n=i(t);r(()=>{n(s=>{$(()=>{e.textContent=s})})})});q("html",(e,{expression:t},{effect:r,evaluateLater:i})=>{let n=i(t);r(()=>{n(s=>{$(()=>{e.innerHTML=s,e._x_ignoreSelf=!0,lt(e),delete e._x_ignoreSelf})})})});pi(Ys(":",Xs(Bt("bind:"))));var Go=(e,{value:t,modifiers:r,expression:i,original:n},{effect:s})=>{if(!t){let l={};yh(l),z(e,i)(f=>{vo(e,f,n)},{scope:l});return}if(t==="key")return ud(e,i);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let o=z(e,i);s(()=>o(l=>{l===void 0&&typeof i=="string"&&i.match(/\./)&&(l=""),$(()=>co(e,t,l,r))}))};Go.inline=(e,{value:t,modifiers:r,expression:i})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:i,extract:!1})};q("bind",Go);function ud(e,t){e._x_keyExpression=t}no(()=>`[${Bt("data")}]`);q("data",fe((e,{expression:t},{cleanup:r})=>{t=t===""?"{}":t;let i={};xr(i,e);let n={};mh(n,i);let s=bt(e,t,{scope:n});(s===void 0||s===!0)&&(s={}),xr(s,e);let o=jt(s);Ds(o);let l=ue(e,o);o.init&&bt(e,o.init),r(()=>{o.destroy&&bt(e,o.destroy),l()})}));q("show",(e,{modifiers:t,expression:r},{effect:i})=>{let n=z(e,r);e._x_doHide||(e._x_doHide=()=>{$(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{$(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let s=()=>{e._x_doHide(),e._x_isShown=!1},o=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(o),a=kr(u=>u?o():s(),u=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,u,o,s):u?l():s()}),f,h=!0;i(()=>n(u=>{!h&&u===f||(t.includes("immediate")&&(u?l():s()),a(u),f=u,h=!1)}))});q("for",(e,{expression:t},{effect:r,cleanup:i})=>{let n=fd(t),s=z(e,n.items),o=z(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r(()=>cd(e,n,s,o)),i(()=>{Object.values(e._x_lookup).forEach(l=>l.remove()),delete e._x_prevKeys,delete e._x_lookup})});function cd(e,t,r,i){let n=o=>typeof o=="object"&&!Array.isArray(o),s=e;r(o=>{hd(o)&&o>=0&&(o=Array.from(Array(o).keys(),y=>y+1)),o===void 0&&(o=[]);let l=e._x_lookup,a=e._x_prevKeys,f=[],h=[];if(n(o))o=Object.entries(o).map(([y,m])=>{let g=Nn(t,m,y,o);i(_=>h.push(_),{scope:{index:y,...g}}),f.push(g)});else for(let y=0;y<o.length;y++){let m=Nn(t,o[y],y,o);i(g=>h.push(g),{scope:{index:y,...m}}),f.push(m)}let u=[],c=[],d=[],p=[];for(let y=0;y<a.length;y++){let m=a[y];h.indexOf(m)===-1&&d.push(m)}a=a.filter(y=>!d.includes(y));let v="template";for(let y=0;y<h.length;y++){let m=h[y],g=a.indexOf(m);if(g===-1)a.splice(y,0,m),u.push([v,y]);else if(g!==y){let _=a.splice(y,1)[0],S=a.splice(g-1,1)[0];a.splice(y,0,S),a.splice(g,0,_),c.push([_,S])}else p.push(m);v=m}for(let y=0;y<d.length;y++){let m=d[y];l[m]._x_effects&&l[m]._x_effects.forEach(ks),l[m].remove(),l[m]=null,delete l[m]}for(let y=0;y<c.length;y++){let[m,g]=c[y],_=l[m],S=l[g],E=document.createElement("div");$(()=>{S||ot('x-for ":key" is undefined or invalid',s),S.after(E),_.after(S),S._x_currentIfEl&&S.after(S._x_currentIfEl),E.before(_),_._x_currentIfEl&&_.after(_._x_currentIfEl),E.remove()}),S._x_refreshXForScope(f[h.indexOf(g)])}for(let y=0;y<u.length;y++){let[m,g]=u[y],_=m==="template"?s:l[m];_._x_currentIfEl&&(_=_._x_currentIfEl);let S=f[g],E=h[g],x=document.importNode(s.content,!0).firstElementChild,O=jt(S);ue(x,O,s),x._x_refreshXForScope=I=>{Object.entries(I).forEach(([wt,H])=>{O[wt]=H})},$(()=>{_.after(x),lt(x)}),typeof E=="object"&&ot("x-for key cannot be an object, it must be a string or an integer",s),l[E]=x}for(let y=0;y<p.length;y++)l[p[y]]._x_refreshXForScope(f[h.indexOf(p[y])]);s._x_prevKeys=h})}function fd(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=e.match(i);if(!n)return;let s={};s.items=n[2].trim();let o=n[1].replace(r,"").trim(),l=o.match(t);return l?(s.item=o.replace(t,"").trim(),s.index=l[1].trim(),l[2]&&(s.collection=l[2].trim())):s.item=o,s}function Nn(e,t,r,i){let n={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,l)=>{n[o]=t[l]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{n[o]=t[o]}):n[e.item]=t,e.index&&(n[e.index]=r),e.collection&&(n[e.collection]=i),n}function hd(e){return!Array.isArray(e)&&!isNaN(e)}function Vo(){}Vo.inline=(e,{expression:t},{cleanup:r})=>{let i=Be(e);i._x_refs||(i._x_refs={}),i._x_refs[t]=e,r(()=>delete i._x_refs[t])};q("ref",Vo);q("if",(e,{expression:t},{effect:r,cleanup:i})=>{let n=z(e,t),s=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let l=e.content.cloneNode(!0).firstElementChild;return ue(l,{},e),$(()=>{e.after(l),lt(l)}),e._x_currentIfEl=l,e._x_undoIf=()=>{st(l,a=>{a._x_effects&&a._x_effects.forEach(ks)}),l.remove(),delete e._x_currentIfEl},l},o=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};r(()=>n(l=>{l?s():o()})),i(()=>e._x_undoIf&&e._x_undoIf())});q("id",(e,{expression:t},{evaluate:r})=>{r(t).forEach(n=>Zh(e,n))});pi(Ys("@",Xs(Bt("on:"))));q("on",fe((e,{value:t,modifiers:r,expression:i},{cleanup:n})=>{let s=i?z(e,i):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let o=jr(e,t,r,l=>{s(()=>{},{scope:{$event:l},params:[l]})});n(()=>o())}));Ye("Collapse","collapse","collapse");Ye("Intersect","intersect","intersect");Ye("Focus","trap","focus");Ye("Mask","mask","mask");function Ye(e,t,r){q(t,i=>ot(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}he.setEvaluator(Hs);he.setReactivityEngine({reactive:xi,effect:wh,release:Th,raw:P});var dd=he,Yo=dd;window.Alpine=Yo;Yo.start();
